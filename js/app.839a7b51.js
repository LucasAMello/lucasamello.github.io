(function(e){function t(t){for(var n,r,s=t[0],c=t[1],l=t[2],u=0,h=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},o=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"009d":function(e,t,a){},"012e":function(e,t,a){"use strict";var n=a("e630"),i=a.n(n);i.a},"04a4":function(e,t,a){"use strict";var n=a("d661"),i=a.n(n);i.a},"0c56":function(e,t,a){},1:function(e,t){},"151b":function(e,t,a){"use strict";var n=a("881e"),i=a.n(n);i.a},"165f":function(e,t,a){"use strict";var n=a("328b"),i=a.n(n);i.a},"2a0a":function(e,t,a){"use strict";var n=a("5228"),i=a.n(n);i.a},"2b75":function(e,t,a){},"2cdc":function(e,t,a){"use strict";var n=a("eb1d"),i=a.n(n);i.a},"328b":function(e,t,a){},4498:function(e,t,a){},4941:function(e,t,a){"use strict";var n=a("ac0e"),i=a.n(n);i.a},"494d":function(e,t,a){"use strict";var n=a("615e"),i=a.n(n);i.a},"4ac9":function(e,t,a){"use strict";var n=a("7b26"),i=a.n(n);i.a},"4b6c":function(e,t,a){},"4fc7":function(e,t,a){"use strict";var n=a("009d"),i=a.n(n);i.a},5013:function(e,t,a){"use strict";var n=a("9258"),i=a.n(n);i.a},5228:function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"615e":function(e,t,a){},6632:function(e,t,a){},"7b26":function(e,t,a){},"85f2":function(e,t){},8652:function(e,t,a){"use strict";var n=a("c93b"),i=a.n(n);i.a},"881e":function(e,t,a){},9258:function(e,t,a){},"95f9":function(e,t,a){"use strict";var n=a("c3e1"),i=a.n(n);i.a},"9b74":function(e,t,a){"use strict";var n=a("2b75"),i=a.n(n);i.a},"9c0c":function(e,t,a){},a1c1:function(e,t,a){"use strict";var n=a("0c56"),i=a.n(n);i.a},a86e:function(e,t,a){"use strict";var n=a("dfce"),i=a.n(n);i.a},ac0e:function(e,t,a){},b357:function(e,t,a){"use strict";var n=a("4498"),i=a.n(n);i.a},b4f2:function(e,t,a){"use strict";var n=a("6632"),i=a.n(n);i.a},b5ad:function(e,t,a){},bb3e:function(e,t){},bd1a:function(e,t,a){"use strict";var n=a("e223"),i=a.n(n);i.a},be62:function(e,t,a){},c2cf:function(e,t,a){},c2dc:function(e,t,a){"use strict";var n=a("4b6c"),i=a.n(n);i.a},c3e1:function(e,t,a){},c93b:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);var n=a("1157"),i=a("5f5b"),o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Alert"),a("main",{staticClass:"container-fluid"},[a("Game",{attrs:{api:e.api,gameId:e.gameId,auth:e.auth,options:e.options,developmentMode:!0}})],1)],1)},s=[],c=a("60a3"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.error?a("div",{class:["alert","alert-warning","fade",{show:!e.dismissed}],attrs:{role:"alert"},on:{transitionend:e.removeError}},[e._v(" "+e._s(e.error)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Fermer"},on:{click:function(t){e.dismissed=!0}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e(),e.info?a("div",{class:["alert","alert-info","fade",{show:!e.infoDismissed}],attrs:{role:"alert"},on:{transitionend:e.removeInfo}},[e._v(" "+e._s(e.info)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Fermer"},on:{click:function(t){e.infoDismissed=!0}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()])},d=[],u=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let h=class extends o["default"]{constructor(){super(...arguments),this.dismissed=!1,this.infoDismissed=!1}get error(){return this.$store.state.error}get info(){return this.$store.state.info}removeError(){this.$store.commit("removeError")}removeInfo(){this.$store.commit("removeInfo")}};h=u([Object(c["a"])({watch:{error(e){this.dismissed=!1},info(e){this.infoDismissed=!1}}})],h);var p,f=h,m=f,g=a("2877"),y=Object(g["a"])(m,l,d,!1,null,null,null),b=y.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[e.hasMap?a("div",{class:["row","no-gutters","justify-content-center",e.data.players.length>2?"medium-map":"small-map"]},[a("SpaceMap",{class:["mb-1","space-map"]}),a("svg",{staticClass:"scoring-research-board",attrs:{viewBox:"0 0 "+(e.scoringX+90)+" 450"}},[a("ResearchBoard",{ref:"researchBoard",attrs:{height:450}}),a("ScoringBoard",{staticClass:"ml-4",attrs:{height:"450",width:"90",x:e.scoringX}})],1)],1):e._e(),a("div",{attrs:{id:"errors"}}),a("div",{staticClass:"row mt-2 ml-1"},[a("Pool"),a("div",{staticClass:"order-1 order-md-2",staticStyle:{width:"100%"},attrs:{id:"move-panel"}},[a("transition",{attrs:{name:"fade"}},[e.replaying?e._e():a("div",[e.ended?a("span",[a("b",[e._v("Game ended!")])]):e.canPlay?a("Commands",{attrs:{remainingTime:e.remainingTime},on:{command:e.handleCommand,undo:e.undoMove}}):e.data.players[e.player]?a("div",{staticClass:"mb-2"},[e._v(" Waiting for "+e._s(e.data.players[e.player].name)+" to play "),e.remainingTime?a("span",{staticClass:"small smaller"},[e._v("("+e._s(e.remainingTime)+" remaining)")]):e._e(),a("br")]):e._e()],1)]),a("div",[a("form",{attrs:{id:"move-form"},on:{submit:function(e){e.preventDefault()}}},[e.data.moveHistory.length>0||!e.gameId?a("div",{staticClass:"card mb-2"},[a("b-tabs",{attrs:{pills:"",card:""}},[a("b-tab",{attrs:{title:"Notes"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],staticClass:"form-control",attrs:{rows:"4",id:"notes",maxlength:"2000"},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}})]),a("b-tab",{attrs:{title:"Move log"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.moveList,expression:"moveList"}],staticClass:"form-control",attrs:{rows:"4",id:"moves"},domProps:{value:e.moveList},on:{input:function(t){t.target.composing||(e.moveList=t.target.value)}}}),a("div",{staticClass:"mt-2 row no-gutters"},[a("transition",{attrs:{name:"fade"}},[e.replaying?a("span",{staticClass:"input-group",staticStyle:{width:"auto"},attrs:{role:"group"}},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(t){return e.goto(1)}}},[e._v(" « "),a("span",{staticClass:"sr-only"},[e._v("Previous move")])]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:e.replayPrevMove}},[e._v(" ‹ "),a("span",{staticClass:"sr-only"},[e._v("Previous move")])])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.replayMove,expression:"replayMove"}],staticClass:"form-control",staticStyle:{"max-width":"60px"},attrs:{type:"text",id:"replayMove"},domProps:{value:e.replayMove},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.goto(e.replayMove))},input:function(t){t.target.composing||(e.replayMove=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[e._v(" / "+e._s(e.numberOfMoves))]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:e.replayNextMove}},[e._v(" › "),a("span",{staticClass:"sr-only"},[e._v("Next move")])]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(t){return e.replay(!0)}}},[e._v(" » "),a("span",{staticClass:"sr-only"},[e._v("Next move")])])])]):e._e()]),a("input",{staticClass:"btn btn-secondary ml-auto",attrs:{type:"button",value:e.replaying?"Leave Replay":"Replay Mode"},on:{click:e.toggleReplayMode}}),e.developmentMode?a("input",{staticClass:"btn btn-primary ml-2",attrs:{type:"button",disabled:e.replaying,value:"Execute"},on:{click:function(t){return e.replay(!0)}}}):e._e()],1)])],1)],1):e._e()])])],1),a("AdvancedLog",{staticClass:"col-12 order-3 mt-4"})],1)]),a("div",{staticClass:"col-md-4 order-2 order-md-1"},[void 0===e.sessionPlayer?a("div",[a("div",{staticClass:"turn-order"},[e._v(" "+e._s(e.turnOrderDesc)+" ")]),e._l(e.orderedPlayers,(function(e){return a("PlayerInfo",{key:e.player,attrs:{player:e}})}))],2):a("div",[a("PlayerInfo",{attrs:{player:e.sessionPlayer}}),a("div",{staticClass:"turn-order"},[e._v(" "+e._s(e.turnOrderDesc)+" ")]),e._l(e.orderedPlayers.filter((function(t){return t!==e.sessionPlayer})),(function(e){return a("PlayerInfo",{key:e.player,attrs:{player:e}})}))],2)])])])},w=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"move"}},[a("div",{attrs:{id:"move-title"}},[a("h5",[e.init?a("span",[e._v("Pick the number of players")]):"automa"==e.command.name?a("span",[e._v("Choose the Automa difficulty")]):a("span",[e._v(" "+e._s([e.player].concat(e.titles).join(" - "))+" "),e.remainingTime?a("span",{staticClass:"smaller small"},[e._v(" ("+e._s(e.remainingTime)+") ")]):e._e(),e.commandChain.length>0?a("a",{staticClass:"smaller small",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.back()}}},[e._v("(back)")]):e.canUndo?a("a",{staticClass:"smaller small",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.undo()}}},[e._v("(undo)")]):e._e()])])]),a("div",{attrs:{id:"move-buttons"}},[e.init?a("div",[a("MoveButton",{attrs:{button:{command:"init automa "+1e3*Math.random(),label:"VS automa"}},on:{trigger:e.handleCommand}}),e._l([2,3,4],(function(t){return a("MoveButton",{key:t,attrs:{button:{command:"init "+t+" randomSeed",label:t+" players"}},on:{trigger:e.handleCommand}})}))],2):e.chooseFaction?a("div",[e._l(e.command.data,(function(t){return a("MoveButton",{key:t,attrs:{button:{command:e.command.name+" "+t,modal:e.tooltip(t),title:e.factions[t].name,label:e.factions[t].name+" <i class='planet "+e.factions[t].planet+"'></i>"}},on:{trigger:e.handleCommand}})})),a("MoveButton",{attrs:{button:e.randomFactionButton},on:{cancel:e.updateRandomFaction,trigger:e.handleCommand}})],2):e.chooseAutoma?a("div",e._l(e.command.data,(function(t){return a("MoveButton",{key:t,attrs:{button:{command:e.command.name+" "+t,modal:e.tooltipDifficulty(t),title:""+(t.charAt(0).toUpperCase()+t.slice(1)),label:""+(t.charAt(0).toUpperCase()+t.slice(1))}},on:{trigger:e.handleCommand}})})),1):a("div",e._l(e.buttons,(function(t,n){return a("MoveButton",{key:(t.label||t.command)+"-"+n,ref:"button-"+n,refInFor:!0,class:{"d-none":t.hide,shown:!t.hide},attrs:{"data-ref":"button-"+n,button:t},on:{trigger:e.handleCommand}},[e._v(" "+e._s(t.label||t.command)+" ")])})),1)])])},C=[],k=a("e992"),j=a.n(k),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"move-button"},[e.button.times?a("b-dropdown",{staticClass:"mr-2 mb-2 move-button",attrs:{split:"",right:"",text:e.customLabel||e.button.label||e.button.command},on:{click:e.handleClick}},e._l(e.button.times,(function(t){return a("b-dropdown-item",{key:t,on:{click:function(a){return e.handleRangeClick(t)}}},[e._v(e._s(t))])})),1):a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],staticClass:"btn btn-secondary mr-2 mb-2 move-button",attrs:{title:e.button.tooltip},domProps:{innerHTML:e._s(e.customLabel||e.button.label||e.button.command)},on:{click:e.handleClick,mouseenter:e.hover,mouseleave:e.leave}}),e.button.modal?a("b-modal",{attrs:{size:"lg",title:e.button.title||e.button.label||e.button.command,"ok-title":"OK, I pick this one!"},on:{ok:e.handleOK,hide:e.modalCancel},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("div",{domProps:{innerHTML:e._s(e.button.modal)}})]):e._e()],1)},_=[],P=a("85f2"),R=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},$=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let T=class extends o["default"]{constructor(){super(...arguments),this.subscription=null,this.modalShow=!1,this.customLabel="",this.startingHex=null}modalCancel(e){this.$emit("cancel")}subscribe(e,t){e="gaiaViewer/"+e,this.unsubscribe(),this.$store.commit("gaiaViewer/activeButton",this.button),this.subscription=this.$store.subscribeAction(({type:a,payload:n})=>{a===e&&this.isActiveButton&&t(n)})}subscribeFinal(e){this.subscribe(e,e=>this.emitCommand(e,{final:!0})),this.emitCommand(null,{disappear:!1})}unsubscribe(){this.subscription&&this.subscription()}handleClick(){if(this.button.hide)console.log("click on hidden button, ignoring");else if(this.isActiveButton||this.$store.commit("gaiaViewer/clearContext"),!this.button.hexes||this.button.selectHexes||this.button.hover||this.button.rotation||this.button.range)if(this.button.researchTiles)this.$store.commit("gaiaViewer/highlightResearchTiles",this.button.researchTiles),this.subscribeFinal("researchClick");else if(this.button.techs)this.$store.commit("gaiaViewer/highlightTechs",this.button.techs),this.subscribeFinal("techClick");else if(this.button.boosters)this.$store.commit("gaiaViewer/highlightBoosters",this.button.boosters),this.subscribeFinal("boosterClick");else if(this.button.actions)this.$store.commit("gaiaViewer/highlightActions",this.button.actions),this.subscribeFinal("actionClick");else if(this.button.needConfirm)this.subscribeFinal("needConfirmClick");else if(this.button.selectHexes){if(this.isActiveButton)return this.button.command=[...this.$store.state.gaiaViewer.context.highlighted.hexes.keys()].map(e=>`${e.q}x${e.r}`).join(","),void this.emitCommand();this.$store.commit("gaiaViewer/selectHexes",this.button.hexes),this.customLabel="Custom location - End selection",this.subscribe("hexClick",e=>{const t=this.$store.state.gaiaViewer.context.highlighted.hexes;t.has(e)?t.delete(e):t.set(e,null);const a=[...t.keys()];this.$store.commit("gaiaViewer/highlightHexes",new Map([...a.map(e=>[e,null])]))})}else if(this.button.modal)this.modalShow=!0;else if(this.button.rotation){if(this.isActiveButton){const e=[...this.$store.state.gaiaViewer.context.rotation.entries()];for(const t of e)t[1]%=6;return void this.emitCommand([].concat(...e.filter(e=>!!e[1])).join(" "))}this.$store.commit("gaiaViewer/highlightHexes",this.button.hexes),this.subscribe("hexClick",e=>this.$store.commit("gaiaViewer/rotate",e)),this.customLabel="Sector rotations finished"}else this.button.range?(console.log("range click"),this.$store.commit("gaiaViewer/highlightHexes",this.button.hexes),this.subscribe("hexClick",e=>{if(this.startingHex)return this.emitCommand(`${this.startingHex.q}x${this.startingHex.r} ${e.q}x${e.r}`),void(this.startingHex=void 0);this.startingHex=e;const t=this.$store.state.gaiaViewer.data.map,{range:a,costs:n}=this.button,i=new Map,o=t.withinDistance(e,a);for(const r of o)i.set(r,{cost:n[t.distance(e,r)]||"~"});this.$store.commit("gaiaViewer/highlightHexes",i)})):(this.button.hexes&&this.button.hover&&this.$store.commit("gaiaViewer/highlightHexes",this.button.hexes),this.emitCommand());else if(this.button.automatic&&1===this.button.hexes.size){const e=this.button.hexes.keys().next().value;this.emitCommand(`${e.q}x${e.r}`)}else this.$store.commit("gaiaViewer/highlightHexes",this.button.hexes),this.subscribe("hexClick",e=>this.emitCommand(`${e.q}x${e.r}`))}handleRangeClick(e){this.emitCommand(null,{times:e})}handleOK(){this.emitCommand()}emitCommand(e,t){console.log("emit command",this.button.command,e),t=Object.assign({},{disappear:!0,final:!1,times:1},t);const{disappear:a,final:n,times:i}=t;a&&(this.unsubscribe(),this.$store.commit("gaiaViewer/activeButton",null));let o=[];if(n)o=e?[e]:[];else{let t=(this.button.command||"")+"";i&&1!==i&&"number"===typeof i&&(t=t.replace(/\b[0-9]+/g,e=>""+parseInt(e)*i)),o=[t,e].filter(e=>!!e)}this.$emit("trigger",o.join(" "),this,n)}hover(){this.button.hover&&null===this.$store.state.gaiaViewer.context.activeButton&&this.$store.commit("gaiaViewer/highlightHexes",this.button.hexes)}leave(){this.button.hover&&null===this.$store.state.gaiaViewer.context.activeButton&&this.$store.commit("gaiaViewer/clearContext")}};R([Object(c["b"])(),$("design:type","function"===typeof(p="undefined"!==typeof P["ButtonData"]&&P["ButtonData"])?p:Object)],T.prototype,"button",void 0),T=R([Object(c["a"])({computed:{isActiveButton(){return this.$store.state.gaiaViewer.context.activeButton&&this.$store.state.gaiaViewer.context.activeButton.label===this.button.label}},destroyed(){this.unsubscribe()}})],T);var S=T,I=S,B=(a("d7b4"),Object(g["a"])(I,O,_,!1,null,null,null)),A=B.exports;function M(e){switch(e){case k["Building"].Mine:return"mine";case k["Building"].Academy1:return"academy1";case k["Building"].Academy2:return"academy2";case k["Building"].TradingStation:return"trading station";case k["Building"].ResearchLab:return"research lab";case k["Building"].PlanetaryInstitute:return"planetary institute";case k["Building"].GaiaFormer:return"gaia-former";case k["Building"].SpaceStation:return"space station"}}const F={[k["Condition"].Mine]:"mine",[k["Condition"].TradingStation]:"trading station",[k["Condition"].ResearchLab]:"research lab",[k["Condition"].PlanetaryInstituteOrAcademy]:"planetary institute or academy",[k["Condition"].Federation]:"federation",[k["Condition"].Gaia]:"gaia planet colonized",[k["Condition"].PlanetType]:"type of planet colonized",[k["Condition"].Sector]:"occupied sector",[k["Condition"].Structure]:"colonized planet",[k["Condition"].StructureFed]:"colonized planet in a federation",[k["Condition"].Satellite]:"satellite or space station",[k["Condition"].HighestResearchLevel]:"level of your highest research track",[k["Condition"].Trade]:"trade token",[k["Condition"].AdvanceResearch]:"level reached in any research track",[k["Condition"].PlanetsWithTradeToken]:"planet with a trade token (max 8)"},V={[k["Condition"].Mine]:"building a mine",[k["Condition"].TradingStation]:"building a trading station",[k["Condition"].ResearchLab]:"building a research lab",[k["Condition"].PlanetaryInstituteOrAcademy]:"building a planetary institute or academy",[k["Condition"].Federation]:"forming a federation",[k["Condition"].MineOnGaia]:"building a mine on a gaia planet",[k["Condition"].AdvanceResearch]:"advancing a level in research",[k["Condition"].TerraformStep]:"terraforming a planet one step",[k["Condition"].Trade]:"delivering trade"},D={[k["Operator"].Pass]:"After passing,",[k["Operator"].Activate]:"Once per round, as a special action,",[k["Operator"].Income]:"During the income phase,",[k["Operator"].Once]:"Immediately ",[k["Operator"].Trigger]:"When ",[k["Operator"].Special]:"Planetary institutes and academies have a power value of 4, when building federations and charging power.",[k["Operator"].AdvShip4]:"Gain two spaceships. Move them with a bonus range of 4 in addition to their normal range."};function G(e){return e.map(e=>{switch(e.type){case k["Resource"].TechTile:return`gain ${e.count} tech tile${e.count>1?"s":""}`;case k["Resource"].TemporaryStep:return`gain ${e.count} temporary step${e.count>1?"s":""}`;case k["Resource"].TemporaryRange:return`gain ${e.count} temporary range`;case k["Resource"].RescoreFederation:return"gain the rewards from one of your federation tokens";case k["Resource"].MoveShips:return"move your ships according to your level in the ship track";case k["Resource"].Turn:return`play an extra ${e.count} turn${e.count>1?"s":""} at once`;default:return"gain "+e.toString()}}).join(", ")}function E(e){const t=D[e.operator],a=e.operator===k["Operator"].Trigger?V[e.condition]+",":F[e.condition]&&"for each "+F[e.condition]+",",n=0===e.rewards.length?"":G(e.rewards);return[t,a,n].filter(e=>!!e).join(" ")}const N={[k["Faction"].Terrans]:{ability:"During the Gaia phase, move the power tokens in your Gaia area to area II of your power cycle instead of to area I.",PI:"During the Gaia phase, when you move power tokens from your Gaia area to area II of your power cycle, you may gain resources as if you were spending that much power to take free actions.",automa:{setup:"The Automa starts on Level 1 of the Gaia Project research area.",factionAction:"Advance Gaia Project research area by 1 AND Build Mine AND Gain 2 VPs.",factionTiebraker:"Automa Range 4 + Transdim Planet",ongoingAbility:"None."}},[k["Faction"].Lantids]:{ability:"When you take the Build a Mine action, you may build a mine on a planet colonized by an opponent (including the Lost Planet). Place your mine next to the opponent’s structure. You do not have to pay for terraforming, but you must still pay the mine’s cost. This mine counts as a normal mine in all ways except the following: this mine cannot be upgraded, and it does not count for any effects that relate to how many planet types or Gaia planets you have colonized.",PI:"Each time you build a mine on a planet colonized by an opponent, gain two knowledge."},[k["Faction"].Xenos]:{ability:"You place a third starting mine after all other starting mines have been placed.",PI:"You can form federations with a total power value of six instead of seven. You gain one Q.I.C. as income instead of one power token.",automa:{setup:"The Automa starts on Level 1 of the Artificial Intelligence research area and places 3 initial mines instead of 2.",factionAction:"Build Mine AND Power/QIC Action AND Gain 2 VPs.",factionTiebraker:"Automa Range 2",ongoingAbility:"When taking a Power/QIC action (except as part of a faction action), the Automa resolves the effect twice using the same support card."}},[k["Faction"].Gleens]:{ability:"If you would ever gain Q.I.C., gain that much ore instead; once you have upgraded to the second academy, this effect no longer applies. To make a Gaia Planet habitable, pay one ore instead of one Q.I.C. Each time you build a mine on a Gaia Planet, gain two additional VP.",PI:"When you upgrade to the planetary institute, immediately gain the Gleens’ federation token (2 credits, 1 ore, 1 knowledge). Gaining this tile counts as forming a federation. The planetary institute itself can still be part of a federation on the board."},[k["Faction"].Taklons]:{ability:"The Brainstone counts as one power token (when starting a Gaia Project, building satellites, etc.), but you can spend it as if it were three power.",PI:"Each time you would charge power from “Passive Action: Charge Power,” you gain one power token. You can choose to gain the power before or after charging.",automa:{setup:"None.",factionAction:"Build Mine AND Power/QIC Action AND Gain 2 VPs.",factionTiebraker:"Automa Range 3 + Shortest distance to one of your planets.",ongoingAbility:"None."}},[k["Faction"].Ambas]:{ability:"-",PI:"Once per round, as an action, you can swap your planetary institute with one of your mines on the game board (this can help you form a new federation). This has no impact on existing federations, even if their power value becomes less than seven. The swap does not count as a build or upgrade action; no VP or power can be gained from it."},[k["Faction"].HadschHallas]:{ability:"-",PI:"You can spend credits instead of power to take free actions that allow you to gain resources.",automa:{setup:"The Automa starts on Level 1 of the Income research area.",factionAction:"Upgrade (OR Build Mine) AND Gain 2 VPs.",factionTiebraker:"If the Automa cannot upgrade, it builds a mine (Automa Range 3).",ongoingAbility:"After upgrading to a trading station, the Automa gains an additional 3 VP."}},[k["Faction"].Ivits]:{ability:"During setup, do not place mines. Instead, after all other players have placed mines (including the Xenos’ third mine), place your planetary institute on any red planet.\n    You can have only one federation during the whole game, but unlike other factions, you will be able to grow that federation to gain new federation tokens. After you have formed a federation,\n    to take the “Form a Federation” action again, you must connect planets to that federation instead of forming a new federation. The power values of the structures on those planets must bring the total power value of that federation to at least to 7X, where X is the number of federation tokens you own plus one (not including the federation token from level 5 of “Terraforming”). All other rules for forming a federation apply, including building satellites and gaining federation tokens. To build a satellite during this action, you must spend one Q.I.C. instead of discarding one power.",PI:"As a special action, place a space station on an accessible space that does not contain a planet or another space station. \n    The accessibility of a space follows the same rules as the “Build a Mine” action. Like planets, a space station can\n    be connected with satellites; each space station counts as having a power value of one for its federation. \n    A space station is not a structure, so placing one does not allow opponents to charge power. A space station does not count as a colonized planet,\n    but it can be used as a “starting point” when determining the accessibility of a planet (i.e., range can be counted from a space station). \n    Your opponents can place satellites in a space containing a space station."},[k["Faction"].Geodens]:{ability:"-",PI:"The first time you build a mine on each planet type, gain 3 knowledge. (You do not gain knowledge for planet types you colonized before upgrading to your planetary institute.)",automa:{setup:"The Automa starts on Level 1 of the Terraforming research area.",factionAction:"Advance random research area by 1 AND Power/QIC Action AND Gain 1 VPs.",factionTiebraker:"None.",ongoingAbility:"After colonizing a new planet type, the Automa gains an additional 2 VP."}},[k["Faction"].BalTaks]:{ability:"You cannot advance in the “Navigation” research area, even if you take the tech tile below the “Navigation” research area. If you do take that tech tile, no advancement occurs.\n    As a free action, you can move a Gaiaformer from a Gaiaformer space on your faction board to your Gaia area to gain one Q.I.C. Gaiaformers in your Gaia area are not available until the next Gaia phase. In the next Gaia phase, move any Gaiaformer in your Gaia area back to its Gaiaformer space.",PI:"You can now advance in the “Navigation” research area."},[k["Faction"].Firaks]:{ability:"-",PI:"As an action, you can “downgrade” a research lab into a trading station and immediately advance one level in a research area of your choice. This counts as an “Upgrade to a Trading Station” action. You can later upgrade the trading station back into a research lab using the normal rules (including gaining a new tech tile).",automa:{setup:"None.",factionAction:"Upgrade AND Gain 2 VPs.",factionTiebraker:"When upgrading, the Automa can downgrade from a research lab to a trading station. This has priority over normal upgrades to trading stations.",ongoingAbility:"After upgrading to a research lab, the Automa advances in a random research area."}},[k["Faction"].Bescods]:{ability:"The positions of your planetary institute and academies are swapped on your faction board, as is the income you gain for trading stations and research labs. As with the other factions, upgrading to an academy or a research lab allows you to gain a tech tile.\n    Once per round, as an action, you can advance your lowest-level token in a research area (without paying knowledge). If multiple of your tokens are tied for the lowest level, choose which of\n    the tied tokens to advance. To advance to level 5 this way, you must still flip a federation token as normal. Remember, only one player can reach level 5 of each research area.",PI:"The power value of your structures on gray planets (your home type) is increased by one (in addition to any other effects that increase their power value)."},[k["Faction"].Nevlas]:{ability:"As a free action, you can move one power token from area III of your power cycle to your Gaia area to gain one knowledge (these power tokens follow the normal Gaia phase rules). This does not count as spending power.",PI:"You can spend power tokens in area III of your power cycle as if they were each two power. Otherwise, they count as one power token (when starting a Gaia Project, building satellites, etc.). When paying for a power action with an odd power cost (1, 3, 5, etc.), the unspent power is lost."},[k["Faction"].Itars]:{ability:"Each time you discard a power token from area II of your power cycle to move another power token to area III, place the discarded power token in your Gaia area instead of returning it to the supply.",PI:"During the Gaia phase, you can discard 4 power tokens from your Gaia area to immediately gain a tech tile. You may do this as many times as you can afford to.",automa:{setup:"None.",factionAction:"Power/QIC Action AND Power/QIC Action AND Gain 4 VPs.",factionTiebraker:"None.",ongoingAbility:"None."}}};function L(e,t){let a=[k["Planet"].Terra,k["Planet"].Oxide,k["Planet"].Volcanic,k["Planet"].Desert,k["Planet"].Swamp,k["Planet"].Titanium,k["Planet"].Ice];return a.includes(e)&&(a=a.slice(a.lastIndexOf(e)).concat(a.slice(0,a.indexOf(e)))),a.filter(a=>Object(k["terraformingStepsRequired"])(e,a)===t)}function H(e,t){const a=Object(k["factionBoard"])(e),n=k["factions"][e].planet,i="<ul>"+Object.values(k["Building"]).filter(e=>e!==k["Building"].GaiaFormer&&e!==k["Building"].SpaceStation).map(e=>"<li><b>"+e+"</b> - "+a.buildings[e].cost+" -> "+(e!==k["Building"].ResearchLab?a.buildings[e].income:a.buildings[e].income[0])+"</li>").join("\n")+"</ul>",o=a.income.filter(e=>e.operator===k["Operator"].Once),r=a.income.filter(e=>e.operator===k["Operator"].Income);return t?`\n    <div class='faction-desc'>\n      <b>Setup: </b> ${N[e].automa.setup} </br>\n      <b>Faction Action: </b> ${N[e].automa.factionAction}<br/>\n      <b>Faction Tiebreaker:</b> ${N[e].automa.factionTiebraker}<br/>\n      <b>Ongoing Ability:</b> ${N[e].automa.ongoingAbility}<br/>\n    </div>\n  `:`\n  <div class='faction-desc'>\n    <b>Ability: </b> ${N[e].ability} </br>\n    <b>Planetary Institute: </b> ${N[e].PI}<br/>\n    <b>Buildings:</b> ${i.replace(/,,/g,",~,").replace(/,/g,", ")}\n    <b>Starting Income:</b> ${o.toString().replace(/,/g,", ")} </br>\n    <b>Round Income:</b> ${r} </br>\n    <span style="white-space: nowrap; line-height: 1em">\n      <b>Steps:</b> \n      ${[0,1,2,3].map(e=>`<span class="ml-2">${L(n,e).map(e=>`<svg width="15" height="20" viewbox="0 0 15 15" >\n          <circle cx="7" cy="6" r="6"  class="player-token planet-fill ${e}" />\n        </svg>`).join("")} ${e}</span>`).join("")}\n    </span>\n  </div>\n  `}const Y={[k["AutomaDifficulty"].Automalein]:{ability:"Decision card 2 is removed, resulting in 1 fewer card in the Automa deck. Automalein starts with 0 VP instead of 10 VP."},[k["AutomaDifficulty"].Automa]:{ability:"No change."},[k["AutomaDifficulty"].Automachtig]:{ability:"Decision card 9 is added to the initial Automa deck. The Automa deck will have 1 more card than normal."},[k["AutomaDifficulty"].Ultoma]:{ability:"Decision cards 9 and 15 are added to the initial Automa deck. The Automa deck will have 2 more card than normal."},[k["AutomaDifficulty"].Alptrauma]:{ability:"Same as Ultoma, but the Automa scores 1 extra VP every time it gains any VP, except during game end scoring."}};function q(e){return`\n    <div class='faction-desc'>\n      ${Y[e].ability} </br>\n    </div>\n  `}var X=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Q=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let z=class extends o["default"]{constructor(){super(...arguments),this.updater=0,this.commandTitles=[],this.customButtons=[],this.commandChain=[],this.buttonChain=[]}loadCommands(e){this.commandTitles=[],this.customButtons=[],this.commandChain=[],this.buttonChain=[];for(const t of e)if(t.name===k["Command"].ChooseFaction)return void this.title("Choose your faction")}get availableCommands(){return this.engine.availableCommands}get command(){return this.availableCommands?this.availableCommands[0]:null}get player(){return this.engine.players[this.command.player].faction?k["factions"][this.engine.players[this.command.player].faction].name:this.engine.players[this.command.player].name?this.engine.players[this.command.player].name:this.engine.players[this.command.player].automa?"Automa":"Player "+(this.command.player+1)}get playerSlug(){return this.$store.state.gaiaViewer.data.players[this.command.player].faction||`p${this.command.player+1}`}get init(){return!this.command||this.command.name===k["Command"].Init}get commandName(){return this.command?this.command.name:null}get chooseFaction(){return this.commandName===k["Command"].ChooseFaction}get chooseAutoma(){return this.commandName===k["Command"].ChooseAutoma}get titles(){return 0===this.commandTitles.length?["Your turn"]:this.commandTitles}get factions(){return k["factions"]}updateRandomFaction(){this.updater+=1}handleCommand(e,t,a){if(!(this.commandChain.length>0&&this.commandChain.slice(-1).pop()===e)||"income"!==e&&"booster"!==e)return t.button.buttons&&t.button.buttons.length>0&&!a?(this.commandTitles.push(t.button.label),this.commandChain.push(t.button.command),this.buttonChain.push(t.button),void(this.customButtons=t.button.buttons)):void(this.init||this.chooseAutoma?this.$emit("command",e):this.$emit("command",`${this.playerSlug} ${[...this.commandChain,e].join(" ")}`));console.log("repeating command, ignoring")}undo(){this.$emit("undo")}title(e){this.commandTitles.push(e)}get context(){return this.$store.state.gaiaViewer.context}get engine(){return this.$store.state.gaiaViewer.data}get map(){return this.engine.map}get buttons(){const e=[];for(const t of this.availableCommands)switch(t.name){case k["Command"].RotateSectors:e.push({label:"Rotate sectors",command:k["Command"].RotateSectors,hexes:new Map(this.map.configuration().centers.map(e=>[this.engine.map.grid.get(e),{}])),rotation:!0});break;case k["Command"].Build:for(const a of Object.values(k["Building"])){const n=t.data.buildings.filter(e=>e.building===a);if(n.length>0){let i=`Build a ${M(a)}`;n[0].upgrade?i=`Upgrade to ${M(a)}`:n[0].downgrade?i=`Downgrade to ${M(a)}`:"~"!==n[0].cost&&a!==k["Building"].SpaceStation&&a!==k["Building"].GaiaFormer||(i=`Place a ${M(a)}`),e.push({label:i,command:`${k["Command"].Build} ${a}`,automatic:t.data.automatic,hexes:new Map(n.map(e=>[this.engine.map.grid.getS(e.coordinates),e]))})}}break;case k["Command"].PISwap:e.push({label:"Swap Planetary Institute",command:t.name,hexes:new Map(t.data.buildings.map(e=>[this.engine.map.grid.getS(e.coordinates),e]))});break;case k["Command"].PlaceLostPlanet:e.push({label:"Place Lost Planet",command:t.name,hexes:new Map(t.data.spaces.map(e=>[this.engine.map.grid.getS(e.coordinates),e]))});break;case k["Command"].PlaceShip:e.push({label:"Place Ship",command:t.name,hexes:new Map(t.data.locations.map(e=>[this.engine.map.grid.getS(e.coordinates),e]))});break;case k["Command"].DeliverTrade:e.push({label:"Deliver Trade",command:t.name,hexes:new Map(t.data.locations.map(e=>[this.engine.map.grid.getS(e.coordinates),e])),automatic:t.data.automatic});break;case k["Command"].MoveShip:e.push({label:"Move Ship",command:t.name,hexes:new Map(t.data.ships.map(e=>[this.engine.map.grid.getS(e.coordinates),e])),range:t.data.range,costs:t.data.costs});break;case k["Command"].Pass:case k["Command"].ChooseRoundBooster:{const a=[];k["Booster"].values(k["Expansion"].All).forEach((e,n)=>{t.data.boosters.includes(e)&&a.push({command:e,label:`Booster ${n+1}`,tooltip:k["tiles"].boosters[e].map(e=>E(new k["Event"](e))).join("\n")})}),0===t.data.boosters.length?e.push({label:"Pass",command:k["Command"].Pass,needConfirm:!0,buttons:[{command:"",label:"Confirm Pass"}]}):e.push({label:t.name===k["Command"].Pass?"Pass":"Pick booster",command:t.name,buttons:a,boosters:t.data.boosters});break}case k["Command"].UpgradeResearch:1===t.data.tracks.length?e.push({label:"Advance "+t.data.tracks[0].field,command:`${k["Command"].UpgradeResearch} ${t.data.tracks[0].field}`}):e.push({label:"Advance research",command:t.name,buttons:t.data.tracks.map(e=>({command:e.field})),researchTiles:t.data.tracks.map(e=>e.field+"-"+e.to)});break;case k["Command"].ChooseTechTile:case k["Command"].ChooseCoverTechTile:e.push({label:t.name===k["Command"].ChooseCoverTechTile?"Pick tech tile to cover":"Pick tech tile",command:t.name,techs:t.data.tiles.map(e=>e.pos),buttons:t.data.tiles.map(e=>({command:e.pos}))});break;case k["Command"].ChargePower:for(const a of t.data.offers){const t=a.offer,n=t.includes("pw")?"Charge":"Gain";e.push({label:a.cost&&"~"!==a.cost?`${n} ${t} for ${a.cost}`:`${n} ${t}`,command:`${k["Command"].ChargePower} ${t}`})}break;case k["Command"].Decline:t.data.offers?e.push({label:`Decline ${t.data.offers[0].offer}`,command:`${k["Command"].Decline} ${t.data.offers[0].offer}`}):e.push({label:`Decline ${t.data.offer}`,command:`${k["Command"].Decline} ${t.data.offer}`});break;case k["Command"].BrainStone:e.push(...t.data.sort().map(e=>({label:`Brainstone ${e}`,command:`${t.name} ${e}`})));break;case k["Command"].Spend:if(1===t.data.acts.length&&this.availableCommands.some(e=>e.name===k["Command"].MoveShip)){const a=t.data.acts[0];e.push({label:`Spend ${a.cost} to gain ${a.income}`,command:`${k["Command"].Spend} ${a.cost} for ${a.income}`})}else e.push({label:"Free action",command:k["Command"].Spend,buttons:t.data.acts.map(e=>({label:`Spend ${e.cost} to gain ${e.income}`,command:`${e.cost} for ${e.income}`,times:e.range}))});break;case k["Command"].Action:e.push({label:"Power/Q.I.C Action",command:k["Command"].Action,actions:t.data.poweracts.map(e=>e.name),buttons:t.data.poweracts.map(e=>({command:e.name,label:`Spend ${e.cost} for ${e.income.join(" / ")}`}))});break;case k["Command"].Special:e.push({label:"Special Action",command:k["Command"].Special,actions:t.data.specialacts.map(e=>e.income),buttons:t.data.specialacts.map(e=>({command:e.income}))});break;case k["Command"].BurnPower:e.push({label:"Burn power",command:k["Command"].BurnPower,buttons:t.data.map(e=>({command:e}))});break;case k["Command"].EndTurn:e.push({label:"End Turn",command:k["Command"].EndTurn,needConfirm:!0,buttons:[{command:k["Command"].EndTurn,label:"Confirm End Turn"}]});break;case k["Command"].ChooseIncome:e.push(...t.data.map(e=>({label:`Income ${e}`,command:`${k["Command"].ChooseIncome} ${e}`})));break;case k["Command"].PickReward:e.push(...t.data.rewards.map(e=>({label:`Gain ${e}`,command:`${k["Command"].PickReward} ${e}`})));break;case k["Command"].FormFederation:{const a=t.data.tiles.map((e,t)=>({command:e,label:`Federation ${t+1}: ${k["tiles"].federations[e]}`})),n=t.data.federations.map((e,t)=>({command:e.hexes,label:`Location ${t+1}`,hexes:new Map(e.hexes.split(",").map(e=>[this.engine.map.grid.getS(e),{coordinates:e}])),hover:!0,buttons:a}));n.push({label:"Custom location",selectHexes:!0,buttons:a}),e.push({label:"Form federation",command:k["Command"].FormFederation,buttons:n});break}case k["Command"].ChooseFederationTile:{const a=t.data.tiles.map((e,t)=>({command:e,label:`Federation ${t+1}: ${k["tiles"].federations[e]}`}));e.push({label:"Rescore federation",command:k["Command"].ChooseFederationTile,buttons:a});break}}if(this.customButtons.length>0){for(const t of e)t.hide=!0;e.push(...this.customButtons)}return e}back(){if(this.$store.commit("gaiaViewer/clearContext"),this.commandChain.pop(),this.commandTitles.pop(),this.buttonChain.pop(),this.buttonChain.length>0){const[e]=this.buttonChain.slice(-1);this.customButtons=e.buttons;for(const t of e.buttons)t.hide=!1}else this.customButtons=[]}};X([Object(c["b"])({default:""}),Q("design:type",String)],z.prototype,"remainingTime",void 0),z=X([Object(c["a"])({watch:{availableCommands(e){this.loadCommands(e)}},methods:{tooltip(e){return H(e,this.engine.players[this.command.player].automa)},tooltipDifficulty(e){return q(e)}},computed:{canUndo(){return!this.$store.state.gaiaViewer.data.newTurn},randomFactionButton(){this.updater=this.updater+1;const e=this.command,t=e.data[Math.floor(Math.random()*e.data.length)];return{command:`${e.name} ${t}`,label:"Random",modal:this.tooltip(t),title:k["factions"][t].name}}},components:{MoveButton:A}})],z);var U=z,W=U,J=(a("2cdc"),Object(g["a"])(W,x,C,!1,null,null,null)),K=J.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{viewBox:"-13 -11.5 "+e.right+" 24"}},e._l(this.sectors,(function(t){return a("Sector",{key:t.q+"x{center.r}",style:"transform: translate("+1.01*e.hexCenter(t).x+"px, "+1.01*e.hexCenter(t).y+"px) rotate("+60*e.rotation(t)+"deg);",attrs:{center:t}})})),1)},ee=[];const te=Math.sqrt(3)/2;function ae(e,t=1){return{x:1.5*e.r*t,y:-(2*e.q+e.r)*te*t}}function ne(e=1){return[{x:-e,y:0},{x:-e/2,y:-te*e},{x:e/2,y:-te*e},{x:e,y:0},{x:e/2,y:te*e},{x:-e/2,y:te*e}]}var ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{staticClass:"sector"},e._l(e.sector,(function(t){return a("SpaceHex",{key:t.q+"x"+t.r,attrs:{transform:"translate("+e.centerOffset(t).x+", "+e.centerOffset(t).y+")",hex:t,isCenter:e.isCenter(t)}})})),1)},oe=[],re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{attrs:{id:e.hex.q+"x"+e.hex.r}},[a("title",[e._v("Coordinates: "+e._s(e.hex.q)+"x"+e._s(e.hex.r)+" Sector: "+e._s(e.hex.data.sector)+e._s("e"!==e.hex.data.planet?" Planet: "+e.planetName(e.hex.data.planet):"")+e._s(e.hex.data.building?" Building: "+e.buildingName(e.hex.data.building):"")+e._s(e.cost(e.hex)?" Cost: "+e.cost(e.hex):""))]),a("polygon",{class:["spaceHex",{toSelect:e.toSelect,highlighted:e.highlightedHexes.has(e.hex),qic:e.cost(e.hex).includes("q"),power:e.cost(e.hex).includes("pw")}],attrs:{points:e.hexCorners.map((function(e){return e.x+","+e.y})).join(" ")},on:{click:function(t){return e.hexClick(e.hex)}}}),e.isCenter?a("text",{staticClass:"sector-name"},[e._v(e._s("s"===e.hex.data.sector[0]?parseInt(e.hex.data.sector.slice(1)):parseInt(e.hex.data.sector)))]):e._e(),"e"!==e.hex.data.planet?a("Planet",{attrs:{planet:e.hex.data.planet,faction:e.faction(e.hex.data.player)}}):e._e(),e.hex.data.building?a("Building",{attrs:{building:e.hex.data.building,faction:e.faction(e.hex.data.player)}}):e._e(),void 0!==e.hex.data.additionalMine?a("Building",{staticClass:"additionalMine",attrs:{faction:e.faction(e.hex.data.additionalMine),building:"m",transform:"translate(0.58, -0.2) rotate(36) scale(0.9)"}}):e._e(),e._l(e.tradeTokens,(function(t,n){return a("Building",{key:t+"-"+n+"-trade",attrs:{faction:e.faction(t),building:"gf",transform:"scale(0.6) translate("+e.tradeX(6-n)+", "+e.tradeY(6-n)+")"}})})),e._l(e.hex.data.ships||[],(function(t,n){return a("SpaceShip",{key:t+"-"+n+"-ship",attrs:{faction:e.faction(t),scale:.4,x:e.shipX(n),y:e.shipY(n)}})})),e._l(e.hex.data.federations||[],(function(t,n){return a("polygon",{key:t+"-"+n,class:["spaceHexFederation","planet",e.planet(t)],attrs:{points:e.hexCorners.map((function(e){return e.x*(1-(n+.5)/8)+","+e.y*(1-(n+.5)/8)})).join(" ")}})}))],2)},se=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",[a("circle",{class:["planet-fill",e.planet],staticStyle:{"pointer-events":"none"},attrs:{r:e.radius}}),e.faction?a("circle",{class:["planet-fill","faction-fill",e.fill],staticStyle:{"pointer-events":"none"},attrs:{r:e.radius}}):e._e(),a("circle",{class:["planet",e.planet],attrs:{r:e.radius}})])},le=[],de={[k["Planet"].Swamp]:{radius:.65,color:"#523A00",borderColor:"#874d12"},[k["Planet"].Desert]:{radius:.65,color:"#F2FF00",borderColor:"#c1a925"},[k["Planet"].Terra]:{radius:.65,color:"#2080f0",borderColor:"#3399ff"},[k["Planet"].Volcanic]:{radius:.65,color:"#ffa135",borderColor:"#ff0000"},[k["Planet"].Oxide]:{radius:.65,color:"#FF160A",borderColor:"#ff8566"},[k["Planet"].Titanium]:{radius:.65,color:"#808080",borderColor:"#d1d1e0"},[k["Planet"].Ice]:{radius:.65,color:"#F8FFF5",borderColor:"#00c2c2"},[k["Planet"].Gaia]:{radius:.65,color:"#009933",borderColor:"#004d1a"},[k["Planet"].Transdim]:{radius:.5,color:"#a64dff",borderColor:"#a64dff"},[k["Planet"].Lost]:{radius:.5,color:"#000033",borderColor:"#ccccff"}};const ue={[k["Planet"].Swamp]:"Swamp",[k["Planet"].Desert]:"Desert",[k["Planet"].Terra]:"Terra",[k["Planet"].Volcanic]:"Volcanic",[k["Planet"].Oxide]:"Oxide",[k["Planet"].Titanium]:"Titanium",[k["Planet"].Ice]:"Ice",[k["Planet"].Gaia]:"Gaia",[k["Planet"].Transdim]:"Transdim",[k["Planet"].Lost]:"Lost planet"};var he,pe,fe=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},me=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let ge=class extends o["default"]{get radius(){return de[this.planet].radius}get fill(){return this.faction?k["factions"].planet(this.faction):this.planet}};fe([Object(c["b"])(),me("design:type","function"===typeof(he="undefined"!==typeof k["Planet"]&&k["Planet"])?he:Object)],ge.prototype,"planet",void 0),fe([Object(c["b"])(),me("design:type","function"===typeof(pe="undefined"!==typeof k["Faction"]&&k["Faction"])?pe:Object)],ge.prototype,"faction",void 0),ge=fe([c["a"]],ge);var ye,be=ge,ve=be,we=(a("5013"),Object(g["a"])(ve,ce,le,!1,null,null,null)),xe=we.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{class:["building","planet-fill",e.planet]},[e.mine?a("rect",{attrs:{x:"-0.2",y:"-0.2",width:"0.4",height:"0.4"}}):e.planetaryInstitute?a("rect",{attrs:{x:"-0.375",y:"-0.375",width:"0.75",height:"0.75"}}):e.gaiaFormer?a("polygon",{attrs:{points:e.hexCorners}}):e.lab?a("circle",{attrs:{r:"0.3"}}):e.academy?a("circle",{attrs:{r:"0.5"}}):e.tradingStation?a("polygon",{attrs:{points:"-0.2,-0.2 0,-0.38 0.2,-0.2 0.2,0.2 -0.2,0.2",transform:"translate(0, 0.08)"}}):e.spaceStation?a("Token",{attrs:{faction:e.faction,scale:.3}}):e._e()],1)},ke=[],je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",[a("circle",{class:["player-token","planet-fill",e.renderPlanet],attrs:{cx:"0",cy:"0",r:"1",transform:"scale("+e.scale+")"}})])},Oe=[],_e=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Pe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Re=class extends o["default"]{get renderPlanet(){return this.planet?this.planet:"automa"===this.faction?k["Planet"].Lost:k["factions"].planet(this.faction)}};_e([Object(c["b"])(),Pe("design:type",Object)],Re.prototype,"faction",void 0),_e([Object(c["b"])(),Pe("design:type",Number)],Re.prototype,"scale",void 0),_e([Object(c["b"])(),Pe("design:type","function"===typeof(ye="undefined"!==typeof k["Planet"]&&k["Planet"])?ye:Object)],Re.prototype,"planet",void 0),Re=_e([c["a"]],Re);var $e,Te,Se=Re,Ie=Se,Be=(a("4ac9"),Object(g["a"])(Ie,je,Oe,!1,null,null,null)),Ae=Be.exports,Me=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Fe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ve=class extends o["default"]{get planet(){return"wild"===this.faction?k["Planet"].Transdim:k["factions"].planet(this.faction)}get hexCorners(){return ne().map(({x:e,y:t})=>`${.4*e},${.4*t}`).join(" ")}get triangleCorners(){return[{x:-.5,y:Math.sqrt(3)/4},{x:.5,y:Math.sqrt(3)/4},{x:0,y:-Math.sqrt(3)/4}].map(({x:e,y:t})=>`${.5*e},${.5*t}`).join(" ")}get mine(){return this.building===k["Building"].Mine}get tradingStation(){return this.building===k["Building"].TradingStation}get planetaryInstitute(){return this.building===k["Building"].PlanetaryInstitute}get lab(){return this.building===k["Building"].ResearchLab}get academy(){return this.building===k["Building"].Academy1||this.building===k["Building"].Academy2}get gaiaFormer(){return this.building===k["Building"].GaiaFormer}get spaceStation(){return this.building===k["Building"].SpaceStation}};Me([Object(c["b"])(),Fe("design:type","function"===typeof($e="undefined"!==typeof k["Faction"]&&k["Faction"])?$e:Object)],Ve.prototype,"faction",void 0),Me([Object(c["b"])(),Fe("design:type","function"===typeof(Te="undefined"!==typeof k["Building"]&&k["Building"])?Te:Object)],Ve.prototype,"building",void 0),Ve=Me([Object(c["a"])({components:{Token:Ae}})],Ve);var De=Ve,Ge=De,Ee=(a("b4f2"),Object(g["a"])(Ge,Ce,ke,!1,null,null,null)),Ne=Ee.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{attrs:{transform:"scale("+e.scale+"), translate("+e.x+", "+e.y+")"}},[a("path",{class:["space-ship","planet-fill",e.planet,{animated:e.animated}],attrs:{d:"m-0.5,0 v0.5 h1 v-0.5 a0.5,0.75 0 1,0 -1,0 z"}})])},He=[],Ye=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},qe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xe=class extends o["default"]{get animated(){return this.scale<1}get planet(){return"automa"===this.faction?k["Planet"].Lost:k["factions"].planet(this.faction)}};Ye([Object(c["b"])({default:"automa"}),qe("design:type",Object)],Xe.prototype,"faction",void 0),Ye([Object(c["b"])({default:1}),qe("design:type",Number)],Xe.prototype,"scale",void 0),Ye([Object(c["b"])({default:0}),qe("design:type",Number)],Xe.prototype,"x",void 0),Ye([Object(c["b"])({default:0}),qe("design:type",Number)],Xe.prototype,"y",void 0),Xe=Ye([c["a"]],Xe);var Qe,ze,Ue=Xe,We=Ue,Je=(a("95f9"),Object(g["a"])(We,Le,He,!1,null,null,null)),Ke=Je.exports,Ze=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},et=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let tt=Qe=class extends o["default"]{get hexCorners(){return ne()}get map(){return this.$store.state.gaiaViewer.data.map}get tradeTokens(){return this.hex.data.tradeTokens||[]}cost(e){const t=this.highlightedHexes.get(e);return t&&t.cost&&"~"!==t.cost?t.cost.replace(/,/g,", "):""}hexClick(e){(this.highlightedHexes.has(e)||this.toSelect)&&this.$store.dispatch("gaiaViewer/hexClick",e)}faction(e){return void 0===e||"wild"===e?e:this.$store.state.gaiaViewer.data.players[e].faction}planet(e){return k["factions"].planet(this.faction(e))}buildingName(e){return M(e)}planetName(e){return ue[e]}shipX(e){return Qe.shipXs[e%7]}shipY(e){return Qe.shipYs[e%7]}tradeX(e){return Qe.tradeXs[e]}tradeY(e){return Qe.tradeYs[e]}};tt.shipXs=[-.5,.5,-1.3,1.3,-.5,.5,0],tt.shipYs=[-1.3,-1.3,0,0,1.3,1.3,0],tt.tradeXs=[-.5,.5,-.9,0,.9,-.5,.5],tt.tradeYs=[-.9,-.9,0,0,0,.9,.9],Ze([Object(c["b"])(),et("design:type","function"===typeof(ze="undefined"!==typeof k["GaiaHex"]&&k["GaiaHex"])?ze:Object)],tt.prototype,"hex",void 0),Ze([Object(c["b"])(),et("design:type",Boolean)],tt.prototype,"isCenter",void 0),tt=Qe=Ze([Object(c["a"])({computed:{highlightedHexes(){return this.$store.state.gaiaViewer.context.highlighted.hexes},toSelect(){return!!this.$store.state.gaiaViewer.context.hexSelection}},components:{Planet:xe,Building:Ne,SpaceShip:Ke}})],tt);var at,nt=tt,it=nt,ot=(a("f165"),Object(g["a"])(it,re,se,!1,null,null,null)),rt=ot.exports,st=a("0b40"),ct=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},lt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let dt=class extends o["default"]{centerOffset(e){return ae({q:e.q-this.center.q,r:e.r-this.center.r})}isCenter(e){return e.q===this.center.q&&e.r===this.center.r}get map(){return this.$store.state.gaiaViewer.data.map}get sector(){const e=st["Hex"].hexagon(2,{center:this.center}),t=e.map(e=>this.map.grid.get(e));return t}};ct([Object(c["b"])(),lt("design:type","function"===typeof(at="undefined"!==typeof st["CubeCoordinates"]&&st["CubeCoordinates"])?at:Object)],dt.prototype,"center",void 0),dt=ct([Object(c["a"])({components:{SpaceHex:rt}})],dt);var ut=dt,ht=ut,pt=(a("4941"),Object(g["a"])(ht,ie,oe,!1,null,null,null)),ft=pt.exports,mt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let gt=class extends o["default"]{hexCenter(e){return ae(e)}get sectors(){return this.map.configuration().centers}rotation(e){return this.$store.state.gaiaViewer.context.rotation.get(`${e.q}x${e.r}`)||0}};gt=mt([Object(c["a"])({computed:{map(){return this.$store.state.gaiaViewer.data.map},right(){return(this.$store.state.gaiaViewer.data.players||[]).length>2?33.5:26}},components:{Sector:ft}})],gt);var yt=gt,bt=yt,vt=Object(g["a"])(bt,Z,ee,!1,null,null,null),wt=vt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.player&&e.player.faction?a("div",{staticClass:"player-info no-gutters"},[a("span",{class:["player-name",{dropped:e.player.dropped}],attrs:{role:"button"},on:{click:function(t){return e.playerClick(e.player)}}},[e._v(e._s(e.name))]),a("div",{staticClass:"board mt-2"},[a("svg",{staticClass:"player-board",style:"background-color: "+e.factionColor,attrs:{viewBox:"-0.2 -0.5 38.5 21.4"}},[a("rect",{attrs:{x:"-1",y:"-1",width:"50",height:"50",fill:"#ffffff44"}}),a("PlayerBoardInfo",{attrs:{transform:"translate(0.5, 0.5)",player:e.player,faction:e.player.faction,data:e.data}}),a("BuildingGroup",{attrs:{transform:"bescods"!==e.player.faction?"translate(2.2, 10)":"translate(12, 10)",player:e.player,nBuildings:1,building:"PI",faction:e.player.faction,placed:e.data.buildings.PI,resource:["pw","t"]}}),a("BuildingGroup",{attrs:{transform:"bescods"===e.player.faction?"translate(2.2, 10)":"translate(12, 10)",player:e.player,nBuildings:2,building:"ac1",faction:e.player.faction,placed:0,ac1:e.data.buildings.ac1,ac2:e.data.buildings.ac2,resource:["q"]}}),a("BuildingGroup",{attrs:{transform:"translate(0, 13)",player:e.player,nBuildings:4,building:"ts",faction:e.player.faction,placed:e.data.buildings.ts,resource:["c"]}}),a("BuildingGroup",{attrs:{transform:"translate(11, 13)",player:e.player,nBuildings:3,building:"lab",faction:e.player.faction,placed:e.data.buildings.lab,resource:["k"]}}),a("BuildingGroup",{attrs:{transform:"translate(0, 16)",player:e.player,nBuildings:8,building:"m",faction:e.player.faction,placed:e.data.buildings.m,resource:["o"]}}),a("line",{attrs:{x1:"5.7",x2:"5.7",y1:"14.2",y2:"14.8",stroke:"black","stroke-width":"0.06"}}),a("line",{attrs:{x1:"5.7",x2:"5.7",y1:"11.2",y2:"11.8",stroke:"black","stroke-width":"0.06"}}),a("line",{attrs:{x1:"15.3",x2:"15.3",y1:"11.2",y2:"11.8",stroke:"black","stroke-width":"0.06"}}),a("line",{attrs:{x1:"10.4",x2:"11",y1:"13.0",y2:"13.0",stroke:"black","stroke-width":"0.06"}}),e.player.automa?e._e():a("PowerBowls",{attrs:{transform:"translate(29,14.5)",faction:e.player.faction,data:e.data,player:e.player}}),a("g",{attrs:{transform:"translate(29.3, 5)"}},[e._l([0,1,2,3],(function(t){return a("g",{key:t,attrs:{transform:"translate("+3.8*(t-2)+", 0)"}},[e._l(e.planetsWithSteps(t),(function(n,i){return a("g",{key:n,attrs:{transform:"translate(0, "+1.4*(t>0?i>0?1:-1:0)+")"}},[a("circle",{class:["player-token","planet-fill",n],staticStyle:{"stroke-width":"0.06px !important"},attrs:{r:1}}),a("text",{style:"font-size: 1.2px; text-anchor: middle; dominant-baseline: mathematical; fill: "+e.planetFill(n)},[e._v(e._s(e.player.ownedPlanetsCount[n]))])])})),a("line",{attrs:{x1:"1.9",x2:"1.9",y1:"-2.3",y2:"2.3","stroke-width":"0.06",stroke:"black"}})],2)})),a("g",{attrs:{transform:"translate(7.6, 0)"}},[a("circle",{class:["player-token","planet-fill","g"],staticStyle:{"stroke-width":"0.06px !important"},attrs:{r:1}}),a("text",{staticStyle:{"font-size":"1.2px","text-anchor":"middle","dominant-baseline":"mathematical",fill:"white"}},[e._v(e._s(e.player.ownedPlanetsCount["g"]))])])],2),e._l(e.player.actions,(function(t,n){return a("SpecialAction",{key:t.action+"-"+n,attrs:{action:t.rewards,disabled:!t.enabled||e.passed,y:"17.5",width:"3.1",height:"3.1",x:3.3*n}})}))],2),"ivits"===e.player.faction?a("span",[e._v(" Value of structures in federation: "+e._s(e.player.fedValue)),a("br"),e._v(" Value of other structures: "+e._s(e.player.structureValue-e.player.fedValue)+" ")]):e._e()]),a("div",{staticClass:"tiles row no-gutters mt-1"},[e.data.tiles.booster?a("Booster",{staticClass:"mb-1 mr-1",attrs:{booster:e.data.tiles.booster,disabled:e.passed}}):e._e(),e._l(e.data.tiles.federations,(function(t,n){return a("FederationTile",{key:n,staticClass:"mb-1 mr-1",attrs:{federation:t.tile,used:!t.green,player:e.player.player,numTiles:1}})})),e._l(e.data.tiles.techs,(function(t){return a("TechTile",{key:t.pos,staticClass:"mb-1 mr-1",attrs:{covered:!t.enabled,pos:t.pos,player:e.player.player}})}))],2),a("b-modal",{attrs:{id:e.player.faction,title:e.factionName,size:"lg"}},[a("div",{domProps:{innerHTML:e._s(e.tooltip)}})])],1):e._e()},Ct=[];function kt(e){return de[k["factions"][e].planet].color}var jt,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{directives:[{name:"show",rawName:"v-show",value:this.count,expression:"this.count"},{name:"b-tooltip",rawName:"v-b-tooltip"}],class:["techTile",{highlighted:e.highlighted,covered:e.covered}],attrs:{title:e.tooltip,width:"58",height:"37",viewBox:"0 0 58 37"},on:{click:e.onClick}},[a("polygon",{attrs:{points:"1,1 48,1 57,11 57,36 1,36"}}),a("text",{staticClass:"title",attrs:{x:"4",y:"12"}},[e._v(e._s(e.title))]),a("text",{class:["content",{smaller:e.content.length>=10}],attrs:{x:"4",y:"30"}},[e._v(e._s(e.content))])])},_t=[],Pt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Rt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let $t=class extends o["default"]{onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/techClick",this.pos)}};Pt([Object(c["b"])(),Rt("design:type",Object)],$t.prototype,"pos",void 0),Pt([Object(c["b"])(),Rt("design:type","function"===typeof(jt="undefined"!==typeof k["PlayerEnum"]&&k["PlayerEnum"])?jt:Object)],$t.prototype,"player",void 0),Pt([Object(c["b"])(),Rt("design:type",Boolean)],$t.prototype,"covered",void 0),$t=Pt([Object(c["a"])({computed:{tileObject(){return this.$store.state.gaiaViewer.data.tiles.techs[this.pos]},tile(){return this.tileObject.tile},count(){return void 0!==this.player?1:this.tileObject.count},rawContent(){return k["tiles"].techs[this.tile][0]},content(){const e=this.rawContent;return e.length>10&&"="!==e[0]?e.replace(/ /g,""):e},title(){return this.count>1&&this.$store.state.gaiaViewer.data.players.length>4?`${this.pos} (${this.count})`:this.pos},tooltip(){return E(new k["Event"](this.rawContent))},highlighted(){return this.$store.state.gaiaViewer.context.highlighted.techs.has(this.pos)}}})],$t);var Tt=$t,St=Tt,It=(a("151b"),Object(g["a"])(St,Ot,_t,!1,null,"7c264bc4",null)),Bt=It.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],class:["booster",{highlighted:e.highlighted,disabled:e.disabled}],attrs:{title:e.tooltip,width:"76",height:"50",viewBox:"0 0 76 50"},on:{click:e.onClick}},[a("rect",{attrs:{x:"1",y:"1",width:"74",height:"48",rx:"5",ry:"5"}}),a("text",{staticClass:"title",attrs:{x:"6",y:"12"}},[e._v(e._s(e.title))]),a("text",{staticClass:"event1",attrs:{x:"6",y:"30"}},[e._v(e._s(e.event1))]),a("text",{staticClass:"event1",attrs:{x:"6",y:"44"}},[e._v(e._s(e.event2))])])},Mt=[],Ft=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Vt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Dt=class extends o["default"]{onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/boosterClick",this.booster)}};Ft([Object(c["b"])(),Vt("design:type",Dt)],Dt.prototype,"booster",void 0),Ft([Object(c["b"])(),Vt("design:type",Boolean)],Dt.prototype,"disabled",void 0),Dt=Ft([Object(c["a"])({computed:{tileObject(){return k["tiles"].boosters[this.booster]},event1(){return this.tileObject[0]},event2(){return this.tileObject[1]},title(){return this.booster},tooltip(){return`- ${E(new k["Event"](this.event1))}\r\n- ${E(new k["Event"](this.event2))}`},highlighted(){return this.$store.state.gaiaViewer.context.highlighted.boosters.has(this.booster)}}})],Dt);var Gt=Dt,Et=Gt,Nt=(a("165f"),Object(g["a"])(Et,At,Mt,!1,null,"c24a01a6",null)),Lt=Nt.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{viewBox:"-25 -25 50 50",width:"50",height:"50"}},[a("g",{class:["specialAction",{highlighted:e.highlighted,disabled:e.disabled}]},[a("polygon",{attrs:{points:"-1,0.5 -0.5,1 0.5,1 1,0.5 1,-0.5 0.5,-1 -0.5,-1 -1,-0.5",transform:"scale(24)"},on:{click:e.onClick}}),a("text",e._l(e.income,(function(t,n){return a("tspan",{key:n,attrs:{x:"0",dy:(0===n?-.5*(e.income.length-1)*11:11)+"px"}},[e._v(" "+e._s(t.replace(/ /g,""))+" ")])})),0)])])},Yt=[],qt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Xt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Qt=class extends o["default"]{onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/actionClick",this.action)}};qt([Object(c["b"])(),Xt("design:type",Boolean)],Qt.prototype,"disabled",void 0),qt([Object(c["b"])(),Xt("design:type",String)],Qt.prototype,"action",void 0),Qt=qt([Object(c["a"])({computed:{highlighted(){return this.$store.state.gaiaViewer.context.highlighted.actions.has(this.action)},income(){return this.action.includes(",")?this.action.split(","):this.action.split("-")}}})],Qt);var zt,Ut=Qt,Wt=Ut,Jt=(a("b357"),Object(g["a"])(Wt,Ht,Yt,!1,null,null,null)),Kt=Jt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{viewBox:"-25 -25 50 50",width:"50",height:"50"}},[a("g",{class:["federationTile",{highlighted:e.highlighted,disabled:e.disabled}]},[a("polygon",{attrs:{points:"-1,0.5 -0.5,1 0.5,1 1,0.5 1,-0.7 0.5,-1 -0.5,-1 -1,-0.7",transform:"scale(24)"},on:{click:e.onClick}}),e.numTiles>1?a("circle",{attrs:{cx:"16.5",cy:"-16.5",r:"8",stroke:"black","stroke-width":"1",fill:"white"}}):e._e(),e.numTiles>1?a("text",{attrs:{x:"16.5",y:"-15.5"}},[e._v(" "+e._s(e.numTiles)+" ")]):e._e(),a("text",e._l(e.income,(function(t,n){return a("tspan",{key:n,attrs:{x:"0",dy:1.5*n-(e.income.length-1)/2.2+"em"}},[e._v(" "+e._s(t.replace(/ /g,""))+" ")])})),0)])])},ea=[],ta=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},aa=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let na=class extends o["default"]{onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/federationClick",this.federation)}};ta([Object(c["b"])(),aa("design:type","function"===typeof(zt="undefined"!==typeof k["Federation"]&&k["Federation"])?zt:Object)],na.prototype,"federation",void 0),ta([Object(c["b"])(),aa("design:type",Boolean)],na.prototype,"used",void 0),ta([Object(c["b"])(),aa("design:type",Number)],na.prototype,"numTiles",void 0),na=ta([Object(c["a"])({computed:{highlighted(){return this.$store.state.gaiaViewer.context.highlighted.federations.has(this.federation)},income(){const[e,...t]=k["tiles"].federations[this.federation].split(",");return t.length>0?[e,t.join(", ")]:e.split("-")},disabled(){return this.used||this.federation===k["Federation"].Fed1}}})],na);var ia=na,oa=ia,ra=(a("4fc7"),Object(g["a"])(oa,Zt,ea,!1,null,null,null)),sa=ra.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{staticClass:"building-group"},[a("rect",{attrs:{x:0,y:"-1.2",width:e.width,height:"2.4",stroke:"black","stroke-width":"0.07",fill:"#ffffff44",rx:"0.2",ry:"0.2"}}),!e.player.automa&&e.factionIncome.length>0?a("Resource",{attrs:{kind:e.factionIncome[0].type,count:e.factionIncome[0].count,transform:"translate(0.77, 0) scale(0.07)"}}):e._e(),e._l(e.buildingList,(function(t){return a("g",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],key:t,attrs:{transform:"translate("+((t+.5)*e.buildingSpacing+e.offset)+", 0)",title:e.tooltip(t)}},[e.isPI?a("rect",{key:t,attrs:{stroke:"black","stroke-width":"0.07",fill:"white",x:-2.2+e.offset,width:"4",y:"-1",height:"2"}}):a("circle",{key:t,attrs:{stroke:"black","stroke-width":"0.07",fill:"white",r:"1"}}),e.showBuilding(t)?a("Building",{staticClass:"building-in-group",attrs:{building:e.building,faction:e.faction,transform:"translate("+(e.isPI?.5:0)+", 0) scale(1.5)"}}):e._e(),e.player.automa?e._e():a("g",e._l(e.resources(t),(function(t,n){return a("Resource",{key:"field-"+n,attrs:{kind:t.type,count:t.count,transform:"translate("+(1.5*n+.5*e.isPI)+", 0) scale(0.08)"}})})),1)],1)}))],2)},la=[],da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{staticClass:"resource"},["q"==e.kind?a("rect",{staticClass:"qic",attrs:{width:"14",height:"14",x:"-7",y:"-7"}}):"o"==e.kind?a("rect",{staticClass:"ore",attrs:{width:"14",height:"14",x:"-7",y:"-7"}}):"c"==e.kind?a("rect",{staticClass:"credit",attrs:{width:"16",height:"16",ry:"8",rx:"8",x:"-8",y:"-8"}}):"pw"==e.kind||"t"==e.kind?a("rect",{staticClass:"power",attrs:{width:"15",height:"15",ry:"7.5",rx:"7.5",x:"-7.5",y:"-7.5"}}):"ship"==e.kind?a("SpaceShip",{staticClass:"ship",attrs:{scale:14}}):"k"==e.kind?a("polygon",{staticClass:"planet-fill r",attrs:{points:"-1,0.5 -0.5,1 0.5,1 1,0.5 1,-0.5 0.5,-1 -0.5,-1 -1,-0.5",transform:"scale(7.5)",stroke:"#333","stroke-width":"0.1"}}):"gf"==e.kind?a("Building",{staticStyle:{fill:"none !important"},attrs:{faction:"ivits",building:"gf",transform:"translate(0.5, 0) scale(20)"}}):e._e(),["o","c","q","k","pw","t","ship"].includes(e.kind)||"+"===e.count?a("text",{class:{plus:"+"===e.count},attrs:{x:"0",y:"0"}},[e._v(e._s(e.count))]):e._e()],1)},ua=[],ha=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},pa=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let fa=class extends o["default"]{};ha([Object(c["b"])(),pa("design:type",fa)],fa.prototype,"kind",void 0),ha([Object(c["b"])(),pa("design:type",Number)],fa.prototype,"count",void 0),fa=ha([Object(c["a"])({components:{Building:Ne,SpaceShip:Ke}})],fa);var ma,ga,ya,ba=fa,va=ba,wa=(a("d3e7"),Object(g["a"])(va,da,ua,!1,null,null,null)),xa=wa.exports,Ca=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ka=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let ja=class extends o["default"]{constructor(){super(...arguments),this.board=Object(k["factionBoard"])(this.faction||k["Faction"].Terrans)}get buildingList(){return[0,1,2,3,4,5,6,7].slice(0,this.nBuildings)}get isPI(){return this.building===k["Building"].PlanetaryInstitute}tooltip(e){return"Income: "+(this.resources(e,!0).join(", ")||"~")}get offset(){return 1.4}get buildingSpacing(){return 2.2}get paddingRight(){return.2}get width(){return Math.max(this.nBuildings,2)*this.buildingSpacing+this.offset+this.paddingRight}get factionIncome(){const e=[].concat(...this.board.income.filter(e=>e.operator===k["Operator"].Income).map(e=>e.rewards));return e.filter(e=>this.resource.includes(e.type))}showBuilding(e){return this.ac1||this.ac2?0===e?!this.ac1:!this.ac2:e>=this.placed}resources(e,t=!1){if(this.showBuilding(e)&&!t)return[];let a=this.building;return this.building===k["Building"].Academy1&&e>0&&(a=k["Building"].Academy2,e=0),[].concat(...this.board.buildings[a].income[e].filter(e=>{if(e.operator===k["Operator"].Income)return!0;const t=e.rewards.toString();return e.operator===k["Operator"].Activate&&("1q"===t||"4c"===t)}).map(e=>e.rewards))}};Ca([Object(c["b"])(),ka("design:type",Number)],ja.prototype,"nBuildings",void 0),Ca([Object(c["b"])(),ka("design:type","function"===typeof(ma="undefined"!==typeof k["Building"]&&k["Building"])?ma:Object)],ja.prototype,"building",void 0),Ca([Object(c["b"])(),ka("design:type","function"===typeof(ga="undefined"!==typeof k["Faction"]&&k["Faction"])?ga:Object)],ja.prototype,"faction",void 0),Ca([Object(c["b"])(),ka("design:type",Number)],ja.prototype,"placed",void 0),Ca([Object(c["b"])(),ka("design:type",Array)],ja.prototype,"resource",void 0),Ca([Object(c["b"])({default:!1}),ka("design:type",Boolean)],ja.prototype,"ac1",void 0),Ca([Object(c["b"])({default:!1}),ka("design:type",Boolean)],ja.prototype,"ac2",void 0),Ca([Object(c["b"])(),ka("design:type","function"===typeof(ya="undefined"!==typeof k["Player"]&&k["Player"])?ya:Object)],ja.prototype,"player",void 0),ja=Ca([Object(c["a"])({components:{Building:Ne,Resource:xa},watch:{faction(e){this.board=Object(k["factionBoard"])(e)}}})],ja);var Oa,_a,Pa,Ra=ja,$a=Ra,Ta=(a("494d"),Object(g["a"])($a,ca,la,!1,null,null,null)),Sa=Ta.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{staticClass:"board-info"},[a("rect",{attrs:{x:"-0.5",y:"-0.5",width:"19.5",height:"8",rx:"0.1",ry:"0.1",fill:"#ffffff37",stroke:"black","stroke-width":"0.07"}}),a("rect",{attrs:{x:"20",y:"-0.5",width:"17.5",height:"2",rx:"0.1",ry:"0.1",fill:"#ffffff37",stroke:"black","stroke-width":"0.07"}}),a("g",{attrs:{transform:"translate(0, 0.5)"}},[a("text",{staticClass:"board-text"},[a("tspan",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e.faction,expression:"faction"}],staticClass:"faction-name",attrs:{role:"button"}},[e._v(e._s(e.factionName))])]),e.player.automa?e._e():a("text",{staticClass:"board-text",attrs:{x:"21"}},[e._v(" TF: "+e._s(3-e.data.terraformCostDiscount)+" ")]),e.player.automa?e._e():a("text",{staticClass:"board-text",attrs:{x:"26"}},[e._v(" NAV: "+e._s(e.data.range)+" ")]),a("text",{staticClass:"board-text",attrs:{x:e.player.automa?21:32}},[e._v(" VP: "+e._s(e.data.victoryPoints)+" ")])]),a("g",{attrs:{transform:"translate(0, 3)"}},[e.player.automa?a("g",[a("text",{staticClass:"board-text"},[e._v("Automa Level: "+e._s(e.player.automaDifficulty))])]):a("g",[a("g",[a("text",{staticClass:"board-text"},[e._v("R")]),a("g",{attrs:{transform:"translate(2.2, 0)"}},[a("Resource",{attrs:{kind:"c",count:e.data.credits,transform:"scale(0.1)"}}),a("text",{class:["board-text",{maxResource:e.data.ores>=30}],attrs:{transform:"translate(1,0) scale(0.7)"}},[e._v("/30")])],1),a("g",{attrs:{transform:"translate(5.5, 0)"}},[a("Resource",{attrs:{kind:"o",count:e.data.ores,transform:"scale(0.1)"}}),a("text",{class:["board-text",{maxResource:e.data.ores>=15}],attrs:{transform:"translate(1,0) scale(0.7)"}},[e._v("/15")])],1),a("g",{attrs:{transform:"translate(9, 0)"}},[a("Resource",{attrs:{kind:"k",count:e.data.knowledge,transform:"scale(0.1)"}}),a("text",{class:["board-text",{maxResource:e.data.knowledge>=15}],attrs:{transform:"translate(1,0) scale(0.7)"}},[e._v("/15")])],1),a("Resource",{attrs:{kind:"q",count:e.data.qics,transform:"translate(12.5,0) scale(0.1)"}})],1),a("g",{attrs:{transform:"translate(0, 1.5)"}},[a("text",{staticClass:"board-text",attrs:{x:"0.25"}},[e._v("I")]),e.income("c")>0?a("g",{attrs:{transform:"translate(2.2, 0)"}},[a("text",{staticClass:"board-text",attrs:{transform:"scale(0.7)"}},[e._v("+"+e._s(e.income("c")))])]):e._e(),e.income("o")>0?a("g",{attrs:{transform:"translate(5.5, 0)"}},[a("text",{staticClass:"board-text",attrs:{transform:"scale(0.7)"}},[e._v("+"+e._s(e.income("o")))])]):e._e(),e.income("k")>0?a("g",{attrs:{transform:"translate(9, 0)"}},[a("text",{staticClass:"board-text",attrs:{transform:"scale(0.7)"}},[e._v("+"+e._s(e.income("k")))])]):e._e(),e.income("q")>0?a("g",{attrs:{transform:"translate(12, 0)"}},[a("text",{staticClass:"board-text",attrs:{transform:"scale(0.7)"}},[e._v("+"+e._s(e.income("q")))])]):e._e()]),a("g",{attrs:{transform:"translate(0,3.5) scale(0.8)"}},[a("text",{staticClass:"board-text"},[a("tspan",[e._v("GF: ")]),e.data.gaiaformersInGaia>0?a("tspan",[e._v("["+e._s(e.data.gaiaformersInGaia)+"]")]):e._e(),a("tspan",[e._v(e._s(e.data.buildings.gf)+"/"+e._s(e.data.gaiaformers))])]),a("text",{staticClass:"board-text",attrs:{x:"6"}},[e._v("Sat: "+e._s(e.data.satellites))]),e.spaceShips?a("text",{staticClass:"board-text",attrs:{x:"10.3"}},[e._v("Ship: "+e._s(e.data.ships)+"/"+e._s(3+e.data.advancedShips))]):e._e(),e.spaceShips?a("text",{staticClass:"board-text",attrs:{x:"16"}},[e._v("TM: "+e._s(e.data.tradeTokens+e.data.wildTradeTokens))]):e._e()])])])])},Ba=[],Aa=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ma=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Fa=class extends o["default"]{get factionName(){return k["factions"][this.faction].name}get spaceShips(){return this.$store.state.gaiaViewer.data.expansions%2===1}income(e){const t=this.player.income.search(new RegExp("[0-9]+"+e));return t<0?0:parseInt(this.player.income.substr(t))}};Aa([Object(c["b"])(),Ma("design:type","function"===typeof(Oa="undefined"!==typeof k["Faction"]&&k["Faction"])?Oa:Object)],Fa.prototype,"faction",void 0),Aa([Object(c["b"])(),Ma("design:type","function"===typeof(_a="undefined"!==typeof k["PlayerData"]&&k["PlayerData"])?_a:Object)],Fa.prototype,"data",void 0),Aa([Object(c["b"])(),Ma("design:type","function"===typeof(Pa="undefined"!==typeof k["Player"]&&k["Player"])?Pa:Object)],Fa.prototype,"player",void 0),Fa=Aa([Object(c["a"])({components:{Resource:xa}})],Fa);var Va,Da,Ga,Ea=Fa,Na=Ea,La=(a("a1c1"),Object(g["a"])(Na,Ia,Ba,!1,null,null,null)),Ha=La.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",[a("line",{attrs:{x1:"0",y1:"0",x2:-e.r*e.spacing,y2:2*(e.isTerran?-1:1)*e.r*e.sin60*e.spacing,stroke:"black","stroke-width":"0.06px"}}),a("circle",{attrs:{r:2*e.r*e.spacing,fill:"none"}}),a("g",[a("circle",{attrs:{r:e.r,fill:"green"}}),a("text",[e._v(e._s(e.power("gaia")))]),a("text",{staticClass:"label",attrs:{y:"2.6"}},[e._v("G")])]),a("g",{attrs:{transform:"translate("+-e.r*e.spacing+", "+2*e.r*e.sin60*e.spacing+")"}},[a("circle",{attrs:{r:e.r,fill:"purple"}}),a("text",[e._v(e._s(e.power("area1")))]),e.income("t")?a("text",{attrs:{y:"1.7",transform:"scale(0.7)"}},[e._v("+"+e._s(e.income("t")))]):e._e(),a("text",{staticClass:"label",attrs:{x:"-2.6"}},[e._v("I")])]),a("g",{attrs:{transform:"translate("+-e.r*e.spacing+", "+-2*e.r*e.sin60*e.spacing+")"}},[a("circle",{attrs:{r:e.r,fill:"purple"}}),a("text",[e._v(e._s(e.power("area2")))]),a("text",{staticClass:"label",attrs:{x:"-2.6"}},[e._v("II")])]),a("g",{attrs:{transform:"translate("+2*e.r*e.spacing+", 0)"}},[a("circle",{attrs:{r:e.r,fill:"purple"}}),a("text",[e._v(e._s(e.power("area3")))]),a("text",{staticClass:"label",attrs:{y:"2.6",x:"0"}},[e._v("III")])]),e.income("pw")?a("text",{staticClass:"label",attrs:{transform:"translate(-3.5, 0) scale(0.75)"}},[e._v("+"+e._s(e.income("pw")))]):e._e()])},qa=[],Xa=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Qa=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let za=class extends o["default"]{get r(){return 2}get spacing(){return 1.1}get sin60(){return.86602540378}get isTerran(){return this.faction===k["Faction"].Terrans}power(e){return this.data.power[e]+(this.data.brainstone===e?"(b)":"")}income(e){const t=this.player.income.search(new RegExp("[0-9]+"+e));return t<0?0:parseInt(this.player.income.substr(t))}};Xa([Object(c["b"])(),Qa("design:type","function"===typeof(Va="undefined"!==typeof k["Faction"]&&k["Faction"])?Va:Object)],za.prototype,"faction",void 0),Xa([Object(c["b"])(),Qa("design:type","function"===typeof(Da="undefined"!==typeof k["PlayerData"]&&k["PlayerData"])?Da:Object)],za.prototype,"data",void 0),Xa([Object(c["b"])(),Qa("design:type","function"===typeof(Ga="undefined"!==typeof k["Player"]&&k["Player"])?Ga:Object)],za.prototype,"player",void 0),za=Xa([Object(c["a"])({components:{Resource:xa}})],za);var Ua,Wa=za,Ja=Wa,Ka=(a("9b74"),Object(g["a"])(Ja,Ya,qa,!1,null,"ea773698",null)),Za=Ka.exports,en=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},tn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let an=class extends o["default"]{playerClick(e){this.$store.dispatch("gaiaViewer/playerClick",e)}get factionColor(){return kt(this.player.faction)}get name(){return this.player.name?this.player.name:"Player "+(this.player.player+1)}get tooltip(){return H(this.player.faction,this.player.automa)}get planet(){return k["factions"][this.player.faction].planet}get factionName(){return k["factions"][this.player.faction].name}planetFill(e){return e===k["Planet"].Titanium||e===k["Planet"].Swamp?"white":"black"}planetsWithSteps(e){return L(this.planet,e)}get passed(){return(this.$store.state.gaiaViewer.data.passedPlayers||[]).includes(this.player.player)}get round(){return this.$store.state.gaiaViewer.data.round}get hasPlanets(){return this.player.ownedPlanets.length>0}};en([Object(c["b"])(),tn("design:type","function"===typeof(Ua="undefined"!==typeof k["Player"]&&k["Player"])?Ua:Object)],an.prototype,"player",void 0),an=en([Object(c["a"])({computed:{data(){return this.player?this.player.data:null}},components:{TechTile:Bt,Booster:Lt,SpecialAction:Kt,FederationTile:sa,BuildingGroup:Sa,PowerBowls:Za,PlayerBoardInfo:Ha}})],an);var nn=an,on=nn,rn=(a("012e"),Object(g["a"])(on,xt,Ct,!1,null,null,null)),sn=rn.exports,cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{viewBox:"0 0 "+e.viewWidth+" 440",height:e.height,width:e.width}},[e._l(e.fields,(function(e,t){return a("ResearchTrack",{key:e,attrs:{field:e,x:60*t}})})),a("text",{staticStyle:{"font-size":"14px"},attrs:{y:"186",x:"130"}},[e._v("Charge 3 power")]),e.$store.state.gaiaViewer.data.tiles&&e.$store.state.gaiaViewer.data.tiles.techs["gaia"]?a("g",[a("TechTile",{attrs:{pos:"free1",x:"70",y:"360"}}),a("TechTile",{attrs:{pos:"free2",x:"150",y:"360"}}),a("TechTile",{attrs:{pos:"free3",x:"230",y:"360"}}),e.expansions?a("TechTile",{attrs:{pos:"free4",x:"310",y:"360"}}):e._e()],1):e._e(),e._l(e.actions,(function(e,t){return a("BoardAction",{key:e,attrs:{scale:17,transform:"translate("+(18+36*Math.min(t,12))+", "+(13==t?382:420)+")",action:e}})}))],2)},ln=[],dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{attrs:{transform:"translate("+e.x+", 0)"}},[a("ResearchTile",{attrs:{y:"270",level:"0",field:e.field}}),a("ResearchTile",{attrs:{y:"230",level:"1",field:e.field}}),a("ResearchTile",{attrs:{y:"190",level:"2",field:e.field}}),a("ResearchTile",{attrs:{y:"133",level:"3",field:e.field}}),a("ResearchTile",{attrs:{y:"93",level:"4",field:e.field}}),a("ResearchTile",{attrs:{y:"0",level:"5",field:e.field}}),e.$store.state.gaiaViewer.data.tiles&&e.$store.state.gaiaViewer.data.tiles.techs["gaia"]?a("g",[a("TechTile",{attrs:{pos:"adv-"+e.field,y:"53",x:"1"}}),a("TechTile",{attrs:{pos:e.field,y:"321",x:"1"}})],1):e._e()],1)},un=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html.left",modifiers:{html:!0,left:!0}}],class:e.field,attrs:{transform:"translate(0, "+e.y+")",title:e.tooltip}},[a("rect",{class:["researchTile",e.field,{highlighted:e.highlighted}],attrs:{x:"2",y:"2",width:"56",height:e.height,rx:"5",ry:"5"},on:{click:e.onClick}}),e._l(e.resources,(function(t,n){return a("Resource",{key:"field-"+n,attrs:{transform:"translate("+(30+e.resourceX(n))+", "+(e.height/3*2+3)+")",kind:t.type,count:t.count}})})),e._l(e.players,(function(t){return a("Token",{key:t.player,attrs:{faction:t.faction,transform:"translate("+e.tokenX(t.player)+", "+e.tokenY(t.player)+")",scale:5.5}})})),this.federation?a("FederationTile",{staticStyle:{"pointer-events":"none"},attrs:{federation:this.federation,numTiles:1,x:"5",y:"7",height:"35"}}):e._e(),this.lostPlanet?a("circle",{class:["planet-fill",this.lostPlanet],staticStyle:{"pointer-events":"none"},attrs:{cx:"30",cy:"18",r:"10"}}):e._e(),a("text",{staticClass:"levDesc",attrs:{x:"0",y:"0",transform:"translate(30, "+(e.height-10)+")"}},[e._v(e._s(e.label()))])],2)},pn=[];const fn={[k["ResearchField"].Economy]:["This level has no effect.","During each income phase, gain two credits and charge one power.","During each income phase, gain one ore, two credits, and charge two power.","During each income phase, gain one ore, three credits, and charge three power.","During each income phase, gain two ore, four credits, and charge four power.","Immediately gain three ore, six credits, and charge six power. Remember that you no longer receive the income from level 4."],[k["ResearchField"].Science]:["This level has no effect.","During each income phase, gain one knowledge.","During each income phase, gain two knowledge.","During each income phase, gain three knowledge.","During each income phase, gain four knowledge.","Immediately gain nine knowledge. Remember that you no longer receive the income from level 4."],[k["ResearchField"].Terraforming]:["Each terraforming step costs you three ore.","Each terraforming step costs you three ore. Immediately gain two ore.","Each terraforming step costs you two ore.","Each terraforming step costs you one ore.","Each terraforming step costs you one ore. Immediately gain two ore.","Each terraforming step costs you one ore. Immediately gain the federation token placed here. Gaining this federation token counts as “Forming a Federation.” Remember that you must have a previously acquired federation token in order to advance to level 5 of this research area and claim the federation token there."],[k["ResearchField"].Intelligence]:["This level has no effect.","Immediately gain one Q.I.C.","Immediately gain one Q.I.C.","Immediately gain two Q.I.C.","Immediately gain two Q.I.C.","Immediately gain four Q.I.C."],[k["ResearchField"].Navigation]:["Your basic range is one.","Your basic range is one. Immediately gain one Q.I.C.","Your basic range is two.","Your basic range is two. Immediately gain one Q.I.C.","Your basic range is three.","Your basic range is four. Immediately place the Lost Planet token on an accessible space that does not contain a planet, satellite, or space station. The accessibility of a space follows the same rules as the  “Build a Mine” action. This counts as a “Build a Mine” action, meaning you can gain VP and your opponents can gain power. Do not place a mine on the Lost Planet token. You are considered to have colonized the planet; place one of your satellites on the Lost Planet token as a reminder. The Lost Planet counts as its own planet type, and as a planet with a mine. You cannot upgrade this mine."],[k["ResearchField"].GaiaProject]:["This level has no effect. You cannot start a Gaia Project.","To start a Gaia project, you must move six power tokens to your Gaia area. Immediately gain one of your Gaiaformers.","To start a Gaia project, you must move six power tokens to your Gaia area. Immediately gain three power tokens.","To start a Gaia project, you must move four power tokens to your Gaia area. Immediately gain one of your Gaiaformers.","To start a Gaia project, you must move three power tokens to your Gaia area. Immediately gain one of your Gaiaformers.","To start a Gaia project, you must move three power tokens to your Gaia area. Immediately gain 4 VP and 1 additional VP for each Gaia Planet with one of your structures on it (you do not gain VP for Gaiaformers on Gaia Planets)."],[k["ResearchField"].TradingBonus]:["Each time you deliver a trade, gain two knowledge.","Each time you deliver a trade, gain two knowledge or three coins.","Each time you deliver a trade, gain two knowledge or three coins. Gain a tech tile.","Each time you deliver a trade, gain two knowledge, one ore or three coins.","Each time you deliver a trade, gain two knowledge, one ore, three coins or a Q.I.C. Gain a tech tile.","Each time you deliver a trade, gain two of: two knowledge, one ore, three coins, a Q.I.C."],[k["ResearchField"].TradingVolume]:["One spacehip income. The move action moves one spaceship moves at current range.","One spacehip income. The move action moves one spaceship moves at current range + 1.","Two spaceships income. The move action moves two spaceships at current range + 1.","Two spaceships income. The move action moves two spaceships at current range + 2.","Three spaceships income. The move action moves three spaceships at current range + 2. Advance on the navigation or intelligence research track by one level.","Four spaceships income. The move action moves four spaceships at current range + 3. Gain a special federation token with no vp that gives a 4th ship: Advanced Spaceship that is immmediately placed. You have an additional 5 wild trade tokens available, that can be placed on planets with one or none of your regular trade tokens when delivering trade."]};var mn,gn=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},yn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let bn=class extends o["default"]{resourceX(e){const t=this.resources,a=t.length,n=a<=2?7:6;return-6*(a-1)+2*e*n-("+"===t[0].count?2:0)}tokenX(e){return 10+e%4*13+22*(e>3?1:0)}tokenY(e){return 10+13*(e>3?1:0)}onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/researchClick",this.field)}label(){return this.field==k["ResearchField"].Terraforming?0==this.level?"cost 3":2==this.level?"cost 2":3==this.level?"cost 1":"":this.field==k["ResearchField"].Navigation?0==this.level?"nav 1":2==this.level?"nav 2":4==this.level?"nav 3":5==this.level?"nav 4":"":this.field==k["ResearchField"].GaiaProject&&5==this.level?"4vp, g>vp":""}get resources(){const e=k["researchTracks"][this.field][this.level].map(e=>new k["Event"](e)).slice(0,1),t=k["Reward"].merge(...e.map(e=>e.rewards),37==this.level?[new k["Reward"]("-3pw")]:[]);return e[0]&&e[0].operator===k["Operator"].Income&&(t.unshift(new k["Reward"]("+",k["Resource"].None)),t[0].count="+"),t}};gn([Object(c["b"])(),yn("design:type","function"===typeof(mn="undefined"!==typeof k["ResearchField"]&&k["ResearchField"])?mn:Object)],bn.prototype,"field",void 0),gn([Object(c["b"])(),yn("design:type",Number)],bn.prototype,"y",void 0),gn([Object(c["b"])(),yn("design:type",Number)],bn.prototype,"level",void 0),bn=gn([Object(c["a"])({computed:{players(){return this.$store.state.gaiaViewer.data.players.filter(e=>e.faction&&e.data.research[this.field]==this.level)},tooltip(){return`<b>Level ${this.level}:</b> ${fn[this.field][this.level]}`},highlighted(){return this.$store.state.gaiaViewer.context.highlighted.researchTiles.has(this.field+"-"+this.level)},height(){return 0==this.level||5==this.level?46:36},federation(){if(5==this.level){if(this.field===k["ResearchField"].Terraforming)return this.$store.state.gaiaViewer.data.terraformingFederation;if(this.field===k["ResearchField"].TradingVolume&&0===this.players.length)return k["Federation"].Ship}},lostPlanet(){if(5==this.level&&this.field===k["ResearchField"].Navigation){for(const e of this.players)if(e.data.lostPlanet)return;return k["Planet"].Lost}}},components:{Token:Ae,FederationTile:sa,Resource:xa,Planet:xe}})],bn);var vn,wn=bn,xn=wn,Cn=(a("8652"),Object(g["a"])(xn,hn,pn,!1,null,null,null)),kn=Cn.exports,jn=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},On=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let _n=class extends o["default"]{};jn([Object(c["b"])(),On("design:type","function"===typeof(vn="undefined"!==typeof k["ResearchField"]&&k["ResearchField"])?vn:Object)],_n.prototype,"field",void 0),jn([Object(c["b"])(),On("design:type",Number)],_n.prototype,"x",void 0),_n=jn([Object(c["a"])({components:{ResearchTile:kn,TechTile:Bt}})],_n);var Pn,Rn=_n,$n=Rn,Tn=Object(g["a"])($n,dn,un,!1,null,"6c8f640a",null),Sn=Tn.exports,In=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],class:["boardAction",e.kind,{highlighted:e.highlighted,faded:e.faded}],attrs:{title:e.tooltip}},[a("polygon",{attrs:{points:"-1,0.5 -0.5,1 0.5,1 1,0.5 1,-0.5 0.5,-1 -0.5,-1 -1,-0.5",transform:"scale("+e.scale+")"},on:{click:e.onClick}}),a("text",{attrs:{transform:"scale("+e.scale/17+")"}},e._l(e.income,(function(t,n){return a("tspan",{key:n,attrs:{x:n+1<e.income.length?1:0,dy:1.15*n-(e.income.length-1)/4+"em"}},[e._v(" "+e._s(t.replace(/ /g,""))+" ")])})),0)])},Bn=[],An=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Mn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Fn=class extends o["default"]{onClick(){this.highlighted&&this.$store.dispatch("gaiaViewer/actionClick",this.action)}};An([Object(c["b"])(),Mn("design:type",Number)],Fn.prototype,"scale",void 0),An([Object(c["b"])(),Mn("design:type","function"===typeof(Pn="undefined"!==typeof k["BoardAction"]&&k["BoardAction"])?Pn:Object)],Fn.prototype,"action",void 0),Fn=An([Object(c["a"])({computed:{tooltip(){const e="Spend "+this.cost+"\n";return e+k["boardActions"][this.action].income.map(e=>E(new k["Event"](e))).join("\n")},highlighted(){return this.$store.state.gaiaViewer.context.highlighted.actions.has(this.action)},faded(){return!this.$store.state.gaiaViewer.data.boardActions[this.action]},kind(){return"p"===this.action[0]?"power":"qic"},income(){return[].concat(...k["boardActions"][this.action].income.map(e=>e.includes("+")?[e.slice(0,e.indexOf("+")),e.slice(e.indexOf("+"))]:e.split("-")))},cost(){return k["boardActions"][this.action].cost}}})],Fn);var Vn=Fn,Dn=Vn,Gn=(a("04a4"),Object(g["a"])(Dn,In,Bn,!1,null,null,null)),En=Gn.exports,Nn=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ln=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Hn=class extends o["default"]{};Nn([Object(c["b"])({default:450}),Ln("design:type",Number)],Hn.prototype,"height",void 0),Hn=Nn([Object(c["a"])({computed:{fields(){return k["ResearchField"].values(this.expansions)},actions(){return k["BoardAction"].values(this.expansions)},expansions(){return this.$store.state.gaiaViewer.data.expansions},viewWidth(){return 60*this.fields.length},width(){return this.height/440*this.viewWidth}},components:{ResearchTrack:Sn,TechTile:Bt,BoardAction:En}})],Hn);var Yn=Hn,qn=Yn,Xn=Object(g["a"])(qn,cn,ln,!1,null,"f6293c1c",null),Qn=Xn.exports,zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.gaiaViewer.data.tiles&&e.$store.state.gaiaViewer.data.tiles.scorings.final?a("svg",{attrs:{viewBox:"0 0 80 400"}},[a("FinalScoringTile",{attrs:{index:0}}),a("FinalScoringTile",{attrs:{index:1,transform:"translate(0, 60)"}}),e._l([0,1,2,3,4,5],(function(e){return a("ScoringTile",{key:e,attrs:{round:e+1,transform:"translate(0, "+(400-45*(e+1))+")"}})}))],2):e._e()},Un=[],Wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],class:["scoringTile",{highlighted:e.highlighted,faded:e.faded}],attrs:{title:e.tooltip}},[a("rect",{attrs:{x:"1",y:"1",width:"75",height:"40"}}),a("text",{staticClass:"title",attrs:{x:"5",y:"12"}},[e._v("Round "+e._s(e.round))]),a("text",{staticClass:"content",attrs:{x:"5",y:"31"}},[e._v(e._s(e.content))])])},Jn=[],Kn=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Zn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let ei=class extends o["default"]{};Kn([Object(c["b"])(),Zn("design:type",Number)],ei.prototype,"round",void 0),ei=Kn([Object(c["a"])({computed:{tile(){return this.$store.state.gaiaViewer.data.tiles.scorings.round[this.round-1]},content(){return k["tiles"].roundScorings[this.tile][0]},tooltip(){return E(new k["Event"](this.content))},highlighted(){return this.$store.state.gaiaViewer.data.round===this.round&&!this.faded},faded(){return this.$store.state.gaiaViewer.data.round>this.round||this.$store.state.gaiaViewer.data.phase===k["Phase"].EndGame}}})],ei);var ti=ei,ai=ti,ni=(a("c2dc"),Object(g["a"])(ai,Wn,Jn,!1,null,null,null)),ii=ni.exports,oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],class:["finalScoringTile",{highlighted:e.highlighted}],attrs:{title:e.tooltip}},[a("rect",{attrs:{x:"1",y:"1",width:"75",height:"55"}}),a("text",{staticClass:"title",attrs:{x:"5",y:"12"}},[e._v(e._s(e.content))]),e._l(e.players,(function(t,n){return a("Token",{key:t.faction,attrs:{faction:t.faction,transform:"translate("+e.tokenX(n)+", "+e.tokenY(n)+")",scale:8}})})),e._l(e.players,(function(t,n){return a("text",{key:t.faction+"-text",class:["score",t.faction],attrs:{transform:"translate("+e.tokenX(n)+", "+e.tokenY(n)+")"}},[e._v(" "+e._s(e.progress(t))+" ")])}))],2)},ri=[],si=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ci=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let li=class extends o["default"]{progress(e){return"automa"===e.faction?k["finalScorings"][this.tile].neutralPlayer:e.progress(this.tile)}tokenX(e){return e%2*30+23}tokenY(e){return 25+(e>1?17:0)}};si([Object(c["b"])(),ci("design:type",Number)],li.prototype,"index",void 0),li=si([Object(c["a"])({computed:{tile(){return this.$store.state.gaiaViewer.data.tiles.scorings.final[this.index]},content(){return this.tile},players(){const e=this.$store.state.gaiaViewer.data.players.filter(e=>!!e&&e.faction);return 2===this.$store.state.gaiaViewer.data.players.length&&e.push({faction:"automa"}),e},tooltip(){this.tile;const e=this.players;return e.map(e=>{const t="automa"===e.faction?"Automa":k["factions"][e.faction].name,a=this.progress(e);return`- ${t}: ${a}`}).join("\n")},highlighted(){return this.$store.state.gaiaViewer.data.phase===k["Phase"].EndGame}},components:{Token:Ae}})],li);var di=li,ui=di,hi=(a("2a0a"),Object(g["a"])(ui,oi,ri,!1,null,null,null)),pi=hi.exports,fi=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let mi=class extends o["default"]{};mi=fi([Object(c["a"])({components:{ScoringTile:ii,FinalScoringTile:pi}})],mi);var gi=mi,yi=gi,bi=Object(g["a"])(yi,zn,Un,!1,null,"f2fbfb34",null),vi=bi.exports,wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data.round>0?a("div",[a("table",{staticClass:"table table-hover table-striped table-sm"},[a("tbody",["endGame"===e.data.phase?a("tr",{staticClass:"major-event"},[a("td",{attrs:{colspan:"3"}},[e._v("Game Ended")])]):e._e(),e._l(e.history,(function(t){return a("tr",[t.entry.round?a("td",{staticClass:"major-event"},[e._v("Round "+e._s(t.entry.round))]):"roundIncome"===t.entry.phase?a("td",{staticClass:"phase-change"},[e._v("Income phase")]):"roundGaia"===t.entry.phase?a("td",{staticClass:"phase-change"},[e._v("Gaia phase")]):"endGame"===t.entry.phase?a("td",{staticClass:"phase-change"},[e._v("End scoring")]):a("td",[e._v(e._s(t.move||e.data.players[t.entry.player].faction))]),a("td",{staticStyle:{width:"1px","white-space":"nowrap"}},e._l(t.entry.changes,(function(t,n){return a("div",{domProps:{innerHTML:e._s("undefined"===n?"&nbsp;":n)}})})),0),a("td",{staticStyle:{width:"1px","white-space":"nowrap"}},e._l(t.entry.changes,(function(t,n){return a("div",[e._v(" "+e._s(Object.keys(t).map((function(e){return""+t[e]+e})).join(", "))+" ")])})),0)])})),e._m(0)],2)])]):e._e()},xi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"major-event"},[a("td",{attrs:{colspan:"3"}},[e._v("Game Started")])])}],Ci=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let ki=class extends o["default"]{};ki=Ci([Object(c["a"])({computed:{data(){return this.$store.state.gaiaViewer.data},history(){const e=[];let t=0,a=this.data.advancedLog[t];const n=()=>{t+=1,a=this.data.advancedLog[t]};return this.data.moveHistory.forEach((t,i)=>{while(a&&(void 0===a.move||a.move<i))(void 0===a.player||a.changes)&&e.push({entry:a}),n();const o={move:t,entry:{}};a&&a.move===i&&(o.entry=a,n()),e.push(o);while(a&&void 0===a.move)(void 0===a.player||a.changes)&&e.push({entry:a}),n()}),e.reverse(),e}}})],ki);var ji=ki,Oi=ji,_i=(a("f255"),Object(g["a"])(Oi,wi,xi,!1,null,"0395504b",null)),Pi=_i.exports,Ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.gaiaViewer.data.tiles&&e.$store.state.gaiaViewer.data.tiles.techs["gaia"]?a("div",{staticClass:"pool pb-0 mb-1 row no-gutters"},[e._l(e.boosters,(function(e){return a("Booster",{key:e,staticClass:"mb-2 mr-1",attrs:{booster:e}})})),e._l(e.federations,(function(e,t,n){return a("FederationTile",{key:t+"-"+n,staticClass:"mb-2 mr-1",attrs:{federation:t,numTiles:e}})}))],2):e._e()},$i=[],Ti=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let Si=class extends o["default"]{};Si=Ti([Object(c["a"])({computed:{boosters(){return k["Booster"].values(k["Expansion"].All).filter(e=>this.$store.state.gaiaViewer.data.tiles.boosters[e])},federations(){var e=this.$store.state.gaiaViewer.data.tiles.federations;for(let t in e)e[t]<0&&delete e[t];return e}},components:{Booster:Lt,FederationTile:sa}})],Si);var Ii=Si,Bi=Ii,Ai=(a("bd1a"),Object(g["a"])(Bi,Ri,$i,!1,null,"27ea498a",null)),Mi=Ai.exports;const Fi={replay(e,t,a){try{a.spaceShips=!1!==a.spaceShips&&a.spaceShips;const e=new j.a(t.slice(0,-1),a);return e.options.noFedCheck=!1,t.length>0&&e.move(t.slice(-1).pop()),e.makeAutomaMove(),e.generateAvailableCommandsIfNeeded(),e}catch(n){console.error(n),e.commit("error",n)}}};var Vi=Fi;function Di(e){return e.message}function Gi(e){return"responseText"in e}function Ei(e,t){if(t)if(console.error(t),"object"!==typeof t)e.commit("error",t);else if(Di(t))e.commit("error",t.message);else if(Gi(t)){const a=t.responseJSON;a&&a instanceof Object&&a.message?e.commit("error",a.message):t.responseText?e.commit("error",t.responseText):e.commit("error","Server-side error")}else e.commit("error","Unknown error")}var Ni,Li,Hi=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Yi=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let qi=class extends o["default"]{constructor(){super(...arguments),this.moveList="",this.currentMove="",this.clearCurrentMove=!1,this.name="",this.lastUpdated=null,this.remainingTime=null,this.nextMoveDeadline=null,this.backupEngine=null,this.refresher=void 0,this.deadlineTicker=void 0,this.replaying=!1,this.notes="",this.refreshCount=0,this.replayMove=0}get numberOfMoves(){return 0===this.moveList.length?0:this.moveList.split("\n").length}toggleReplayMode(){this.replaying?(this.handleData(this.backupEngine),this.backupEngine=null,this.replaying=!1):(this.replaying=!0,this.backupEngine=this.data,this.replay(!0))}goto(e){this.replayMove=e,this.replay()}replayPrevMove(){this.replayMove>0&&this.replayMove--,this.replay()}replayNextMove(){const e=this.numberOfMoves;this.replayMove<e&&this.replayMove++,this.replay()}async replay(e=!1){this.$store.commit("gaiaViewer/clearContext");const t=this.moveList.trim();let a=t?t.split("\n"):[];e?this.replayMove=a.length:a=a.slice(0,this.replayMove);try{const t=Object.assign({},this.backupEngine&&this.backupEngine.options,this.options),n=this.api.replay(this.$store,a,t);this.handleData(n,!e),window.sessionStorage.setItem("moves",JSON.stringify(n.moveHistory))}catch(n){Ei(this.$store,n)}}handleData(e,t){console.log("handle data",t),this.lastUpdated=e.lastUpdated,this.nextMoveDeadline=e.nextMoveDeadline,n(".sector").addClass("notransition"),this.$store.commit("removeError"),this.$store.commit("gaiaViewer/receiveData",e),t?(this.currentMove=this.moveList.split("\n")[this.replayMove],this.clearCurrentMove=!0):(this.clearCurrentMove=!1,e.newTurn?this.currentMove="":this.currentMove=e.moveHistory.pop(),this.moveList=e.moveHistory.join("\n"),this.replayMove=this.moveList.length),this.updateFavicon(),this.updateMoveList(),this.updateDeadline(),setTimeout(()=>n(".sector").removeClass("notransition"))}desc(e){return e.faction?this.data.passedPlayers&&this.data.passedPlayers.includes(e.player)?`${k["factions"][e.faction].name} (passed)`:k["factions"][e.faction].name:e.name||`Player ${e.player+1}`}updateFavicon(){this.canPlay?n("#favicon-gp").attr("href","/favicon-active.png"):n("#favicon-gp").attr("href","/favicon.png")}handleCommand(e){if(e.startsWith(k["Command"].Init)||this.data.round<=0)return void this.addMove(e);const t=this.parseMove(e);t.command!==k["Command"].EndTurn?this.currentMove&&!this.clearCurrentMove?this.addMove(this.currentMove+`. ${e.slice(t.player.length+1)}`):(this.clearCurrentMove=!1,this.addMove(e)):this.addMove(this.currentMove+".")}undoMove(){this.currentMove.includes(".")?this.currentMove=this.currentMove.slice(0,this.currentMove.lastIndexOf(".")):this.currentMove="",this.addMove(this.currentMove)}addMove(e){this.$store.commit("gaiaViewer/clearContext");let t=this.moveList?this.moveList.trim().split("\n"):[];this.moveList=(t.slice(0,this.replayMove).join("\n").trim()+"\n"+e).trim(),this.replay(!0)}parseMove(e){if(e=e.trim(),e.includes("."))return this.parseMove(e.slice(0,e.indexOf(".")));const t=e.split(" ");return{player:t[0],command:t[1],args:t.slice(2)}}updateMoveList(){setTimeout(()=>n("#moves").scrollTop(n("#moves")[0].scrollHeight))}updateDeadline(){if(!this.nextMoveDeadline)return void(this.remainingTime=null);const e=Math.floor(Math.max(new Date(this.nextMoveDeadline).getTime()-Date.now(),0)/1e3),t=[],a=e%60,n=(e-a)%3600/60,i=(e-a-60*n)%86400/3600,o=(e-a-60*n-3600*i)/86400;o>0&&t.push(`${o}d`),i>0&&t.push(`${i}h`),n>0&&t.push(`${n}m`),(a>0||0===t.length)&&t.push(`${a}s`),this.remainingTime=t.join(", ")}};Hi([Object(c["b"])(),Yi("design:type","function"===typeof(Ni=!1)?Ni:Object)],qi.prototype,"api",void 0),Hi([Object(c["b"])(),Yi("design:type",String)],qi.prototype,"gameId",void 0),Hi([Object(c["b"])(),Yi("design:type",String)],qi.prototype,"auth",void 0),Hi([Object(c["b"])(),Yi("design:type","function"===typeof(Li="undefined"!==typeof k["EngineOptions"]&&k["EngineOptions"])?Li:Object)],qi.prototype,"options",void 0),Hi([Object(c["b"])({default:!1}),Yi("design:type",Boolean)],qi.prototype,"developmentMode",void 0),qi=Hi([Object(c["a"])({computed:{data(){return this.$store.state.gaiaViewer.data},ended(){return this.data.phase===k["Phase"].EndGame},scoringX(){return this.data.expansions?505:385},orderedPlayers(){const e=this.data;if(!e.round||!e.turnOrder)return e.players;let t=e.turnOrder;return-1!==e.turnOrder.indexOf(this.player)&&(t=t.slice(t.indexOf(this.player)).concat(t.slice(0,t.indexOf(this.player)))),t.concat(e.passedPlayers).map(t=>e.players[t])},turnOrder(){const e=this.data;return e.round&&e.turnOrder?this.data.turnOrder.concat(this.data.passedPlayers).map(e=>this.data.players[e]):e.players},turnOrderDesc(){const e=this.turnOrder;return e&&0!==e.length?"Turn order: "+e.map(e=>this.desc(e)).filter(e=>!!e).join(", "):""},canPlay(){return!this.ended&&!this.gameId||void 0!==this.player&&this.data.players[this.player].auth===this.auth},hasMap(){return!!this.$store.state.gaiaViewer.data.map},player(){if(this.data.availableCommands)return this.data.availableCommands.length>0?this.data.availableCommands[0].player:void 0},sessionPlayer(){if(this.auth)return this.data.players.find(e=>e.auth===this.auth)}},created(){this.addMove("init automa "+(new Date).getMilliseconds())},destroyed(){clearInterval(this.refresher),clearInterval(this.deadlineTicker)},components:{Commands:K,SpaceMap:wt,PlayerInfo:sn,ResearchBoard:Qn,ScoringBoard:vi,Pool:Mi,AdvancedLog:Pi}})],qi);var Xi=qi,Qi=Xi,zi=(a("a86e"),Object(g["a"])(Qi,v,w,!1,null,"806ed6e4",null)),Ui=zi.exports,Wi=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r};let Ji=class extends c["c"]{constructor(){super(...arguments),this.name=""}};Ji=Wi([Object(c["a"])({components:{Alert:b,Game:Ui},created(){document.title="Gaia project",n("meta[name='viewport']").attr("content","width=800, initial-scale=1.0")},computed:{api(){return Vi},gameId(){if(window.location.search.startsWith("?g="))return window.location.search.slice("?g=".length)},auth(){return window.localStorage.getItem("auth")||window.localStorage.setItem("auth",Math.random().toString(36)),window.localStorage.getItem("auth")},data(){return this.$store.state.gaiaViewer.data},canJoin(){return!this.data.players.some(e=>e.auth===this.auth)&&this.freeSpots},freeSpots(){return this.data.players.filter(e=>!e.auth).length},options(){return this.$store.state.options}}})],Ji);var Ki=Ji,Zi=Ki,eo=(a("5c0b"),Object(g["a"])(Zi,r,s,!1,null,null,null)),to=eo.exports,ao=a("2f62");o["default"].use(ao["a"]);const no={namespaced:!0,state:{data:new j.a,context:{highlighted:{hexes:new Map,researchTiles:new Set,techs:new Set,boosters:new Set,actions:new Set,federations:new Set},rotation:new Map,hexSelection:!1,activeButton:null}},mutations:{receiveData(e,t){e.data=t,e.context.rotation=new Map},highlightHexes(e,t){e.context.highlighted.hexes=t},highlightResearchTiles(e,t){e.context.highlighted.researchTiles=new Set(t)},highlightTechs(e,t){e.context.highlighted.techs=new Set(t)},highlightBoosters(e,t){e.context.highlighted.boosters=new Set(t)},highlightActions(e,t){e.context.highlighted.actions=new Set(t)},highlightFederations(e,t){e.context.highlighted.federations=new Set(t)},selectHexes(e,t){e.context.hexSelection=!0,e.context.highlighted.hexes=new Map(t||[])},rotate(e,t){const a=`${t.q}x${t.r}`;e.context.rotation.set(a,(e.context.rotation.get(a)||0)+1),e.context.rotation=new Map(e.context.rotation.entries())},clearContext(e){e.context.highlighted.hexes=new Map,e.context.highlighted.researchTiles=new Set,e.context.highlighted.techs=new Set,e.context.highlighted.boosters=new Set,e.context.highlighted.actions=new Set,e.context.highlighted.federations=new Set,e.context.hexSelection=!1,e.context.activeButton=null},activeButton(e,t){e.context.activeButton=t},error:(e,t)=>{e.error=t,e.errorIssued=new Date},info:(e,t)=>{e.info=t,e.infoIssued=new Date},removeError:e=>e.error=e.errorIssued=null,removeInfo:e=>e.info=e.infoIssued=null},actions:{hexClick(e,t){},researchClick(e,t){},techClick(e,t){},boosterClick(e,t){},actionClick(e,t){},federationClick(e,t){},playerClick(e,t){},confirmClick(e,t){}},getters:{data:e=>e.data,availableCommands:e=>e.data.availableCommands}};var io=new ao["a"].Store({modules:{gaiaViewer:no},state:{options:{spaceShips:!1},error:null,info:null,errorIssued:null,infoIssued:null},mutations:{options:(e,t)=>e.options=t,error:(e,t)=>{e.error=t,e.errorIssued=new Date},info:(e,t)=>{e.info=t,e.infoIssued=new Date},removeError:e=>e.error=e.errorIssued=null,removeInfo:e=>e.info=e.infoIssued=null}});a("bb3e"),a("f9e3"),a("2dd8");o["default"].use(i["a"]),o["default"].config.productionTip=!1,new o["default"]({store:io,render:e=>e(to)}).$mount("#app")},d3e7:function(e,t,a){"use strict";var n=a("be62"),i=a.n(n);i.a},d661:function(e,t,a){},d7b4:function(e,t,a){"use strict";var n=a("c2cf"),i=a.n(n);i.a},dfce:function(e,t,a){},e223:function(e,t,a){},e426:function(e,t,a){},e630:function(e,t,a){},eb1d:function(e,t,a){},f165:function(e,t,a){"use strict";var n=a("b5ad"),i=a.n(n);i.a},f255:function(e,t,a){"use strict";var n=a("e426"),i=a.n(n);i.a}});
//# sourceMappingURL=app.839a7b51.js.map